[1m[3m[38;2;192;192;192m/** @file view_engine.c
    @brief The working part of View
    @author Bill Waller
    Copyright (c) 2025
    MIT License
    billxwaller@gmail.com
    @date 2026-02-09
 */[0m

[38;2;0;223;175m#include[0m [38;2;240;240;144m"common.h"[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<ctype.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<errno.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<fcntl.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<regex.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<stdlib.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<string.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<sys/mman.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<sys/stat.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<termios.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<time.h>[0m
[38;2;0;223;175m#include[0m [38;2;240;240;144m<unistd.h>[0m

[38;2;0;223;175m#define[0m [38;2;255;79;0mCtrl[0m([38;2;255;191;0mc[0m) ((c) & 0x1f)

[1m[3m[38;2;192;192;192m/** @brief read the next characater from the virtual file */[0m
[38;2;0;223;175m#define[0m [38;2;255;79;0mget_next_char[0m()                                                        \
    do {                                                                       \
        if (view->file_pos == view->file_size) {                               \
            view->f_eod = true;                                                \
            break;                                                             \
        } else                                                                 \
            view->f_eod = false;                                               \
        c = view->buf[view->file_pos++];                                       \
    } while (c == 0x0d);

[1m[3m[38;2;192;192;192m/** @brief read the previous characater from the virtual file */[0m
[38;2;0;223;175m#define[0m [38;2;255;79;0mget_prev_char[0m()                                                        \
    do {                                                                       \
        if (view->file_pos == 0) {                                             \
            view->f_bod = true;                                                \
            break;                                                             \
        } else                                                                 \
            view->f_bod = false;                                               \
        c = view->buf[--view->file_pos];                                       \
    } while (c == 0x0d);

[38;2;15;127;255mchar[0m [38;2;255;191;0mprev_regex_pattern[0m[[38;2;112;208;255mMAXLEN[0m];
[38;2;15;127;255mFILE[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mdbgfp[0m;
[38;2;15;127;255mint[0m [38;2;255;79;0mview_file[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mview_cmd_processor[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mget_cmd_char[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mbuild_prompt[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mdouble[0m [38;2;255;191;0melapsed[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mcat_file[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mlp[0m([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_mark[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_eof[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mgo_to_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_percent[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_position[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255mbool[0m [38;2;255;79;0msearch[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mnext_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mprev_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mresize_page[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mredisplay_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mscroll_down_n_lines[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mscroll_up_n_lines[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m);
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_next_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_prev_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_pos_next_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_pos_prev_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255moff_t[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mfmt_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mdisplay_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mparse_ansi_str[0m([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mattr_t[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mint[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mview_display_help[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mcmd_line_prompt[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mvoid[0m [38;2;255;79;0mremove_file[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0mwrite_view_buffer[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mbool[0m);
[38;2;15;127;255mbool[0m [38;2;255;79;0menter_file_spec[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m);
[38;2;15;127;255mint[0m [38;2;255;79;0ma_toi[0m([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0ms[0m, [38;2;15;127;255mbool[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0ma_toi_error[0m);

[38;2;15;127;255mchar[0m [38;2;255;191;0merr_msg[0m[[38;2;112;208;255mMAXLEN[0m];
[1m[3m[38;2;192;192;192m/** @brief Start view */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mview_file[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m) {
    [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m1[0m) {
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m-1[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;240;240;144m"-"[0m;
    } [38;2;0;223;175melse[0m
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margv[0m[[1m[38;2;192;255;224m0[0m];
    [38;2;0;223;175mwhile[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL[0m [1m[38;2;255;0;255m||[0m
            [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m) {
            [38;2;0;223;175mbreak[0m;
        }
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mNULL[0m;
        [38;2;0;223;175mif[0m ([38;2;255;79;0mview_init_input[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_spec_ptr[0m)) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbuf[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;79;0mnext_page[0m([38;2;255;191;0mview[0m);
                [38;2;255;79;0mview_cmd_processor[0m([38;2;255;191;0minit[0m);
                [38;2;255;79;0mmunmap[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbuf[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m);
            }
        } [38;2;0;223;175melse[0m {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m[1m[38;2;255;0;255m++[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margv[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m];
            }
        }
    }
    [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Main Command Processing Loop for View */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mview_cmd_processor[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mtfd[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mmax_n[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mshift[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mprev_search_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mrc[0m, [38;2;255;191;0mi[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mssize_t[0m [38;2;255;191;0mbytes_written[0m;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0me[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mshell_cmd_spec[0m[[38;2;112;208;255mMAXLEN[0m];
    [38;2;0;223;175mstruct[0m [38;2;15;127;255mtimespec[0m [38;2;255;191;0mstart[0m, [38;2;255;191;0mend[0m;
    [38;2;15;127;255mdouble[0m [38;2;255;191;0melapsed[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mbool[0m [38;2;255;191;0mf_clock_started[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;15;127;255moff_t[0m [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0L[0m;
    [38;2;15;127;255moff_t[0m [38;2;255;191;0mprev_file_pos[0m;
    [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_timer[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_cmd_char[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_cmd_char[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
        [38;2;0;223;175mif[0m (![38;2;255;191;0mc[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m)
                [38;2;255;79;0mredisplay_page[0m([38;2;255;191;0mview[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m false;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_timer[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mf_clock_started[0m) {
                [38;2;255;79;0mclock_gettime[0m([38;2;112;208;255mCLOCK_MONOTONIC[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mend[0m);
                [38;2;255;191;0melapsed[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mend[0m.[38;2;0;191;255mtv_sec[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mstart[0m.[38;2;0;191;255mtv_sec[0m) [1m[38;2;255;0;255m+[0m
                          ([38;2;255;191;0mend[0m.[38;2;0;191;255mtv_nsec[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mstart[0m.[38;2;0;191;255mtv_nsec[0m) / [1m[38;2;192;255;224m1e9[0m;
                [38;2;255;191;0mf_clock_started[0m [1m[38;2;255;0;255m=[0m false;
            }

            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m) {
                [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m);
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;255;79;0mbuild_prompt[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_type[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_str[0m,
                             [38;2;255;191;0melapsed[0m);
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m)
                    [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m">"[0m);
                [38;2;0;223;175melse[0m
                    [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_str[0m);
            }
            [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m
                [38;2;255;79;0mprefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpminrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msminrow[0m,
                         [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mERR[0m)
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Error refreshing pad"[0m);
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_timer[0m) {
                [38;2;255;79;0mclock_gettime[0m([38;2;112;208;255mCLOCK_MONOTONIC[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mstart[0m);
                [38;2;255;191;0mf_clock_started[0m [1m[38;2;255;0;255m=[0m true;
            }
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'9'[0m) {
                [38;2;255;191;0mtmp_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mchar[0m)[38;2;255;191;0mc[0m;
                [38;2;255;191;0mtmp_str[0m[[1m[38;2;192;255;224m1[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
                [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mtmp_str[0m);
            }
        }
        [38;2;0;223;175mswitch[0m ([38;2;255;191;0mc[0m) {
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'R'[0m): [1m[3m[38;2;192;192;192m/**<  Ctrl('R') or KEY_RESIZE - Handle terminal resize
                           events */[0m
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_RESIZE[0m:
            [38;2;255;79;0mresize_page[0m([38;2;255;191;0minit[0m);
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_ALTHOME[0m: [1m[3m[38;2;192;192;192m/**< KEY_ALTHOME - horizontal scroll to the first
                             column */[0m
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_ALTEND[0m: [1m[3m[38;2;192;192;192m/**< KEY_ALTEND  horizontal scroll to the last column
                          */[0m
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m)
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m;
            [38;2;0;223;175melse[0m
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'h'[0m: [1m[3m[38;2;192;192;192m/**< 'h', Ctrl('H'), KEY_LEFT, KEY_BACKSPACE - Horizontal
                     scroll left by two thirds of the page width */[0m
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'H'[0m):
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_LEFT[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_BACKSPACE[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;191;0mshift[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m / [1m[38;2;192;255;224m3[0m) [1m[38;2;255;0;255m*[0m [1m[38;2;192;255;224m2[0m;
            [38;2;255;191;0mmax_n[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m / [38;2;255;191;0mshift[0m;
            [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mint[0m)[38;2;255;191;0mn_cmd[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mmax_n[0m)
                [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mmax_n[0m;
            [38;2;255;191;0mshift[0m *= [38;2;255;191;0mn[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mshift[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            [38;2;0;223;175melse[0m
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m-=[0m [38;2;255;191;0mshift[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'l'[0m: [1m[3m[38;2;192;192;192m/**< 'l', 'L', KEY_RIGHT - Horizontal scroll right by two
                     thirds of the page width */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'L'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_RIGHT[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;191;0mshift[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m / [1m[38;2;192;255;224m3[0m) [1m[38;2;255;0;255m*[0m [1m[38;2;192;255;224m2[0m;
            [38;2;255;191;0mmax_n[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m) / [38;2;255;191;0mshift[0m;
            [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mint[0m)[38;2;255;191;0mn_cmd[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mmax_n[0m)
                [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mmax_n[0m;
            [38;2;255;191;0mshift[0m *= [38;2;255;191;0mn[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mshift[0m <= [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m+=[0m [38;2;255;191;0mshift[0m;
            [38;2;0;223;175melse[0m
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mshift[0m) [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m
                                    ? ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m)
                                    : [1m[38;2;192;255;224m0[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'k'[0m: [1m[3m[38;2;192;192;192m/** 'k', 'K', KEY_UP, Ctrl('K') - Scroll up one line */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'K'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_UP[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'K'[0m):
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;79;0mscroll_up_n_lines[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'j', 'J', KEY_DOWN, KEY_ENTER, SPACE - scroll down one line */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'j'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'J'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'\n'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m' '[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_DOWN[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_ENTER[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn_cmd[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
                [38;2;255;79;0mscroll_down_n_lines[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mn_cmd[0m);
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'b', 'B', Ctrl('B'), KEY_PPAGE - Scroll up one page */[0m
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_PPAGE[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'b'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'B'[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'B'[0m):
            [38;2;255;79;0mscroll_up_n_lines[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'f', 'F', Ctrl('F'), KEY_NPAGE - scroll down one page */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'f'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'F'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_NPAGE[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'F'[0m):
            [38;2;255;79;0mnext_page[0m([38;2;255;191;0mview[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'g', KEY_HOME - Go to the beginning of the document */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'g'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_HOME[0m:
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            [38;2;255;79;0mgo_to_line[0m([38;2;255;191;0mview[0m, [1m[38;2;192;255;224m0L[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  KEY_LL - Go to the end of the document */[0m
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_LL[0m:
            [38;2;255;79;0mgo_to_eof[0m([38;2;255;191;0mview[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  '!', Execute Shell Command from within C-Menu View */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'!'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_displaying_help[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;0;223;175mif[0m ([38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"!"[0m) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_is_pipe[0m) {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprev_file_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_spec_ptr[0m;
                    [38;2;255;79;0mstr_subc[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [1m[38;2;192;255;224m'%'[0m,
                             [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcur_file_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
                    [38;2;255;79;0mmunmap[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbuf[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m);
                } [38;2;0;223;175melse[0m
                    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
                [38;2;255;79;0mfull_screen_shell[0m([38;2;255;191;0mshell_cmd_spec[0m);
                [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_is_pipe[0m) {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcur_file_str[0m;
                    [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
                }
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  '+', Set Startup Command */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'+'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Startup Command:"[0m) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
                [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  '-', Change View Settings */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'-'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_displaying_help[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"(c, i, p, s, t, or h)->"[0m);
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m);
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mtolower[0m([38;2;255;191;0mc[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'A'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'Z'[0m)
                [38;2;255;191;0mc[0m [1m[38;2;255;0;255m+=[0m [1m[38;2;192;255;224m' '[0m;
            [38;2;0;223;175mswitch[0m ([38;2;255;191;0mc[0m) {
            [1m[3m[38;2;192;192;192m/**  'c' - Clear Screen at End of File */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'c'[0m:
                [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Clear Screen at End (Y or N)->"[0m);
                [38;2;0;223;175mif[0m (([38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m)) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_at_end_clear[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'n'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'N'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_at_end_clear[0m [1m[38;2;255;0;255m=[0m false;
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m/**  'i' - Ignore Case in Search */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'i'[0m:
                [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Ignore Case in search (Y or N)->"[0m);
                [38;2;0;223;175mif[0m (([38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m)) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_ignore_case[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'n'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'N'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_ignore_case[0m [1m[38;2;255;0;255m=[0m false;
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m/** 'p' - Set Prompt Type */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'p'[0m:
                [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"(Short Long or No prompt)->"[0m);
                [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mtolower[0m([38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m));
                [38;2;0;223;175mswitch[0m ([38;2;255;191;0mc[0m) {
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m's'[0m:
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_type[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mPT_SHORT[0m;
                    [38;2;0;223;175mbreak[0m;
                [1m[3m[38;2;192;192;192m/** 'l' - Long Prompt */[0m
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'l'[0m:
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_type[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mPT_LONG[0m;
                    [38;2;0;223;175mbreak[0m;
                [1m[3m[38;2;192;192;192m/**  'n' - No Prompt */[0m
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'n'[0m:
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mprompt_type[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mPT_NONE[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mdefault[0m:
                    [38;2;0;223;175mbreak[0m;
                }
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m/** 's' - Squeeze Multiple Blank Lines */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m's'[0m:
                [38;2;255;79;0mcmd_line_prompt[0m(
                    [38;2;255;191;0mview[0m, [38;2;240;240;144m"view->f_squeeze Multiple Blank lines (Y or N)->"[0m);
                [38;2;0;223;175mif[0m (([38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m)) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_squeeze[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'n'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'N'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_squeeze[0m [1m[38;2;255;0;255m=[0m false;
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m/** 't' - Set Tab Stop Columns */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m't'[0m:
                [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m,
                        [38;2;240;240;144m"Tabstop Colums Currently %d:"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtab_stop[0m);
                [38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;0;223;175mif[0m ([38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mtmp_str[0m) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
                    [38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0matoi[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m);
                [38;2;0;223;175mif[0m ([38;2;255;191;0mi[0m >= [1m[38;2;192;255;224m1[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mi[0m <= [1m[38;2;192;255;224m12[0m) {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtab_stop[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mi[0m;
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
                } [38;2;0;223;175melse[0m
                    [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Tab stops not changed"[0m);
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m/** KEY_F(1), 'H' - Display Help */[0m
            [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'H'[0m:
            [38;2;0;223;175mcase[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m1[0m):
                [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_displaying_help[0m) {
                    [38;2;255;79;0mview_display_help[0m([38;2;255;191;0minit[0m);
                    [1m[3m[38;2;192;192;192m/** Pedantic reassignment of view pointer as the
                        init->view pointer was was reassigned during
                       view_display_help */[0m
                    [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
                }
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_cmd_char[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'-'[0m;
                [38;2;0;223;175mbreak[0m;
            [38;2;0;223;175mdefault[0m:
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  ':' - Set a Prompt String */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m':'[0m:
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_cmd_char[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m":"[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'n' - Repeat Previous Search */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'n'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mprev_search_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_search_complete[0m) {
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"No previous search or search complete"[0m);
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;0;223;175mif[0m ([38;2;255;191;0mprev_search_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
            }
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_first_iter[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;255;79;0msearch[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mprev_search_cmd[0m, [38;2;255;191;0mprev_regex_pattern[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  '/' or '?' - Search Forward fromk top of page */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'/'[0m:
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_search_complete[0m [1m[38;2;255;0;255m=[0m false;
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"(forward)->"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mc[0m;
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mtmp_str[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\n'[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_first_iter[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
                [38;2;255;79;0msearch[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0msearch_cmd[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m);
                [38;2;255;191;0mprev_search_cmd[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0msearch_cmd[0m;
                [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mprev_regex_pattern[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  '?' - Search Backward */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'?'[0m:
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_search_complete[0m [1m[38;2;255;0;255m=[0m false;
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"(backward)->"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mc[0m;
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mtmp_str[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\n'[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_first_iter[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
                [38;2;255;79;0msearch[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0msearch_cmd[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m);
                [38;2;255;191;0mprev_search_cmd[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0msearch_cmd[0m;
                [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mprev_regex_pattern[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'o' or 'O' - Open a File */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'o'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'O'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'e'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'E'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"File name:"[0m) [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;79;0mstrtok[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;240;240;144m" "[0m);
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrdup[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m);
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'g' or 'G' - Go to the End of the Document */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'G'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_END[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;79;0mgo_to_eof[0m([38;2;255;191;0mview[0m);
            [38;2;0;223;175melse[0m
                [38;2;255;79;0mgo_to_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'H' or KEY_F(1) - Display Help Information */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'H'[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m1[0m):
            [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_displaying_help[0m) {
                [38;2;255;79;0mview_display_help[0m([38;2;255;191;0minit[0m);
                [1m[3m[38;2;192;192;192m/** Pedantic reassignment of view pointer as the
                    init->view pointer was was reassigned during
                   view_display_help */[0m
                [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
                [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'm' - Set a Mark at the Current Position */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'm'[0m:
            [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Mark label (A-Z)->"[0m);
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'@'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m9[0m) [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\033'[0m)
                [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'A'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'Z'[0m)
                    [38;2;255;191;0mc[0m [1m[38;2;255;0;255m+=[0m [1m[38;2;192;255;224m' '[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m'a'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m'z'[0m)
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Not (a-z)"[0m);
            [38;2;0;223;175melse[0m
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmark_tbl[0m[[38;2;255;191;0mc[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m'a'[0m] [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'M' - Go to a Mark */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'M'[0m:
            [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Goto mark (A-Z)->"[0m);
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_cmd_char[0m([38;2;255;191;0mview[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'@'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m9[0m) [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\033'[0m)
                [38;2;0;223;175mbreak[0m;
            [1m[3m[38;2;192;192;192m// c = tolower(c);[0m
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'A'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'Z'[0m)
                [38;2;255;191;0mc[0m [1m[38;2;255;0;255m+=[0m [1m[38;2;192;255;224m' '[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m'a'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m'z'[0m)
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Not (A-Z)"[0m);
            [38;2;0;223;175melse[0m
                [38;2;255;79;0mgo_to_mark[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mc[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'N' - Close Current File and Open Next File */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'N'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mn_cmd[0m >= [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m) {
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"no more files"[0m);
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m[1m[38;2;255;0;255m++[0m;
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margv[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m];
                [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'p' or '%' - Go to a Percent of the File */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'p'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'%'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m0[0m)
                [38;2;255;79;0mgo_to_line[0m([38;2;255;191;0mview[0m, [1m[38;2;192;255;224m1[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m >= [1m[38;2;192;255;224m100[0m)
                [38;2;255;79;0mgo_to_eof[0m([38;2;255;191;0mview[0m);
            [38;2;0;223;175melse[0m
                [38;2;255;79;0mgo_to_percent[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mn_cmd[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  Ctrl('Z') - Send File to Print Queue with Notation */[0m
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'Z'[0m):
            [38;2;255;79;0mget_cmd_arg[0m([38;2;255;191;0mview[0m, [38;2;240;240;144m"Enter Notation:"[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"/tmp/view-XXXXXX"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0mtfd[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mmkstemp[0m([38;2;255;191;0mtmp_str[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_file_name_ptr[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mtfd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m-1[0m) {
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Unable to create temporary file"[0m);
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m"echo "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_file_name_ptr[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mshell[0m([38;2;255;191;0mshell_cmd_spec[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m"cat "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m">>"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_file_name_ptr[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mshell[0m([38;2;255;191;0mshell_cmd_spec[0m);
            [38;2;255;79;0mlp[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcur_file_str[0m);
            [38;2;255;79;0mprefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpminrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msminrow[0m,
                     [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m);
            [38;2;255;79;0mshell[0m([38;2;255;191;0mshell_cmd_spec[0m);
            [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mshell_cmd_spec[0m, ([38;2;15;127;255msize_t[0m)([38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m), [38;2;240;240;144m"rm %s"[0m,
                      [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_file_name_ptr[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m"rm "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_file_name_ptr[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mshell[0m([38;2;255;191;0mshell_cmd_spec[0m);
            [38;2;255;79;0mrestore_wins[0m();
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;255;79;0munlink[0m([38;2;255;191;0mtmp_str[0m);
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'P' or KEY_CATAB or KEY_PRINT - Print Current File */[0m
        [38;2;0;223;175mcase[0m [38;2;255;79;0mCtrl[0m([1m[38;2;192;255;224m'P'[0m):
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_CATAB[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_PRINT[0m:
            [38;2;255;79;0mlp[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcur_file_str[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'P' or KEY_F(9) or ESC - Close Current File and Open Next */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'P'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mn_cmd[0m <= [1m[38;2;192;255;224m0[0m)
                [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mn_cmd[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;79;0mPerror[0m([38;2;240;240;144m"No previous file"[0m);
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m[1m[38;2;255;0;255m--[0m;
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m >= [1m[38;2;192;255;224m0[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margv[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m];
                [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
            }
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/**  'q' or 'Q' or KEY_F(9) or ESC - Quit the Application */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'q'[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'Q'[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m9[0m):
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'\033'[0m:
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mNULL[0m;
            [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
        [1m[3m[38;2;192;192;192m/** 'v' - Open Current File in Editor */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'v'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255meditor[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;191;0me[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mgetenv[0m([38;2;240;240;144m"DEFAULTEDITOR"[0m);
                [38;2;0;223;175mif[0m ([38;2;255;191;0me[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL[0m [1m[38;2;255;0;255m||[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0me[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m)
                    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255meditor[0m, [38;2;112;208;255mDEFAULTEDITOR[0m, [38;2;112;208;255mMAXLEN[0m);
                [38;2;0;223;175melse[0m
                    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255meditor[0m, [38;2;255;191;0me[0m, [38;2;112;208;255mMAXLEN[0m);
            }
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem0[0m,
                       [38;2;240;240;144m"View doesn't support editing current buffer directly"[0m,
                       [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"Would you like to write the buffer to a file?"[0m,
                       [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem2[0m, [38;2;240;240;144m"Enter Y for yes or any other key to cancel."[0m,
                       [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'Y'[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;0;223;175mif[0m (![38;2;255;79;0menter_file_spec[0m([38;2;255;191;0minit[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_spec[0m)) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;255;191;0mprev_file_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
            [38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mwrite_view_buffer[0m([38;2;255;191;0minit[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_strip_ansi[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"%s, line: %d"[0m, [38;2;255;191;0m__FILE__[0m,
                          [38;2;255;191;0m__LINE__[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m);
                [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"0 bytes written"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
                [38;2;255;79;0mstrerror_r[0m([38;2;255;191;0merrno[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
                [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mNULL[0m, [38;2;112;208;255mNULL[0m);
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mnext_file_spec_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_spec[0m;
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255meditor[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m" "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m5[0m);
            [38;2;255;79;0mfull_screen_shell[0m([38;2;255;191;0mshell_cmd_spec[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m
                [38;2;255;191;0mprev_file_pos[0m;

            [38;2;255;79;0mrestore_wins[0m();
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
        [1m[3m[38;2;192;192;192m/** 'w' - Write the current buffer to file */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'w'[0m:
            [38;2;0;223;175mif[0m (![38;2;255;79;0menter_file_spec[0m([38;2;255;191;0minit[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_spec[0m)) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;255;191;0mprev_file_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
            [38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mwrite_view_buffer[0m([38;2;255;191;0minit[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_strip_ansi[0m);
            [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mtmp_str[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [38;2;112;208;255mCT_VIEW[0m:
            [38;2;0;223;175mbreak[0m;
        [1m[3m[38;2;192;192;192m/** 'V' - Display Version Information */[0m
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'V'[0m:
            [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"C-Menu Version: %s"[0m, [38;2;112;208;255mCM_VERSION[0m);
            [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mNULL[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mdefault[0m:
            [38;2;0;223;175mbreak[0m;
        }
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    }
}
[1m[3m[38;2;192;192;192m/** @brief Get Command Character and Numeric Argument */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mget_cmd_char[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m, [38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mcmd_str[0m[[1m[38;2;192;255;224m33[0m];
    [38;2;255;191;0mcmd_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;15;127;255mMEVENT[0m [38;2;255;191;0mevent[0m;
    [38;2;255;79;0mmousemask[0m([38;2;112;208;255mBUTTON4_PRESSED[0m | [38;2;112;208;255mBUTTON5_PRESSED[0m, [38;2;112;208;255mNULL[0m);
    [38;2;255;79;0mtcflush[0m([1m[38;2;192;255;224m2[0m, [38;2;112;208;255mTCIFLUSH[0m);
    [38;2;0;223;175mdo[0m {
        [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mxwgetch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mKEY_MOUSE[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;79;0mgetmouse[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mevent[0m) [1m[38;2;255;0;255m!=[0m [38;2;112;208;255mOK[0m)
                [38;2;0;223;175mreturn[0m ([38;2;112;208;255mMA_ENTER_OPTION[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mevent[0m.[38;2;0;191;255mbstate[0m [1m[38;2;255;0;255m&[0m [38;2;112;208;255mBUTTON4_PRESSED[0m)
                [38;2;0;223;175mreturn[0m ([38;2;112;208;255mKEY_UP[0m);
            [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mevent[0m.[38;2;0;191;255mbstate[0m [1m[38;2;255;0;255m&[0m [38;2;112;208;255mBUTTON5_PRESSED[0m) {
                [38;2;0;223;175mreturn[0m ([38;2;112;208;255mKEY_DOWN[0m);
            }
        } [38;2;0;223;175melse[0m {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'9'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m32[0m) {
                [38;2;255;191;0mcmd_str[0m[[38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m] [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mchar[0m)[38;2;255;191;0mc[0m;
                [38;2;255;191;0mcmd_str[0m[[38;2;255;191;0mi[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
            }
        }
    } [38;2;0;223;175mwhile[0m ([38;2;255;191;0mc[0m >= [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mc[0m <= [1m[38;2;192;255;224m'9'[0m);
    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0matol[0m([38;2;255;191;0mcmd_str[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;0;223;175mreturn[0m ([38;2;255;191;0mc[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Get Command Argument from User Input */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mget_cmd_arg[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mprompt[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mnumeric_arg[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_e[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mprompt_s[0m[[38;2;112;208;255mPAD_COLS[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m];
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mrc[0m, [38;2;255;191;0mprompt_l[0m;
    [38;2;255;191;0mprompt_l[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mprompt_s[0m, [38;2;255;191;0mprompt[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m4[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m)
        [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m;
    [38;2;255;191;0mcmd_e[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m [1m[38;2;255;0;255m+[0m [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_l[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
        [38;2;255;191;0mnumeric_arg[0m [1m[38;2;255;0;255m=[0m true;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_l[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m1[0m) {
        [38;2;255;79;0mwstandout[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m' '[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mprompt_s[0m);
        [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m' '[0m);
        [38;2;255;79;0mwstandend[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
    } [38;2;0;223;175melse[0m {
        [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mprompt[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m':'[0m)
            [38;2;255;191;0mnumeric_arg[0m [1m[38;2;255;0;255m=[0m true;
        [38;2;0;223;175melse[0m {
            [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mprompt[0m;
            [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m >= [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m&&[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m <= [1m[38;2;192;255;224m'9'[0m) {
                [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m[1m[38;2;255;0;255m++[0m [1m[38;2;255;0;255m=[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mn[0m;
                [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
                [38;2;255;191;0mnumeric_arg[0m [1m[38;2;255;0;255m=[0m true;
            }
        }
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mprompt_s[0m);
        [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mprompt_l[0m);
    }
    [38;2;255;79;0mwclrtoeol[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mprefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpminrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msminrow[0m,
                      [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mERR[0m)
            [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Error refreshing screen"[0m);
        [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mxwgetch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;0;223;175mswitch[0m ([38;2;255;191;0mc[0m) {
        [1m[3m[38;2;192;192;192m/// Basic Editing Keys for Command Line[0m
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_LEFT[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_BACKSPACE[0m:
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'\b'[0m:
            [38;2;0;223;175mif[0m ([38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_arg[0m) {
                [38;2;255;191;0mcmd_p[0m[1m[38;2;255;0;255m--[0m;
                [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m' '[0m [1m[38;2;255;0;255m||[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0x7f[0m) {
                    [38;2;255;79;0mgetyx[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m) {
                        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m[1m[38;2;255;0;255m--[0m;
                        [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                        [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m' '[0m);
                        [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                    }
                }
                [38;2;255;79;0mgetyx[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m) {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m[1m[38;2;255;0;255m--[0m;
                    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                    [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m' '[0m);
                    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m);
                }
            }
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'\n'[0m:
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_ENTER[0m:
            [38;2;0;223;175mreturn[0m [38;2;255;191;0mc[0m;
        [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m'\033'[0m:
        [38;2;0;223;175mcase[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m9[0m):
            [38;2;0;223;175mreturn[0m [38;2;255;191;0mc[0m;
        [38;2;0;223;175mcase[0m [38;2;112;208;255mKEY_MOUSE[0m:
            [38;2;0;223;175mcontinue[0m;
        [38;2;0;223;175mdefault[0m:
            [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m[1m[38;2;255;0;255m++[0m [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mchar[0m)[38;2;255;191;0mc[0m;
            [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmd_p[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
            [38;2;0;223;175mif[0m (([38;2;15;127;255mchar[0m)[38;2;255;191;0mc[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m' '[0m) {
                [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m'^'[0m);
                [38;2;255;191;0mc[0m |= [1m[38;2;192;255;224m'@'[0m;
            } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m (([38;2;15;127;255muchar[0m)[38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0x7f[0m)
                [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'?'[0m;
            [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, ([38;2;15;127;255mchar[0m)[38;2;255;191;0mc[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mcmd_p[0m >= [38;2;255;191;0mcmd_e[0m)
                [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mnumeric_arg[0m [1m[38;2;255;0;255m&&[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m'9'[0m))
                [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m-1[0m;
            [38;2;0;223;175mbreak[0m;
        }
    }
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mc[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Build Prompt String */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mbuild_prompt[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [38;2;255;191;0mprompt_type[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mprompt_str[0m,
                  [38;2;15;127;255mdouble[0m [38;2;255;191;0melapsed[0m) {
    [38;2;255;191;0mprompt_type[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mPT_LONG[0m;
    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mprompt_str[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_type[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mPT_LONG[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_is_pipe[0m)
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"stdin"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;0;223;175melse[0m
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_name[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m) {
        [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"Col %d of %d"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m)
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"|"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m1[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mprompt_type[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mPT_LONG[0m) {
        [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"File %d of %d"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m) {
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"|"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m); [1m[3m[38;2;192;192;192m// File Of[0m
        }
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_type[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mPT_LONG[0m) { [1m[3m[38;2;192;192;192m// Byte of Byte[0m
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL_POSITION[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m;
        [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"Pos %zd-%zd"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m) {
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"|"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        }
        [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_is_pipe[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m" of %zd"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m);
                [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            }
        }
    }
    [38;2;0;223;175mif[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mprompt_type[0m [1m[38;2;255;0;255m!=[0m [38;2;112;208;255mPT_NONE[0m) { [1m[3m[38;2;192;192;192m// Percent[0m
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m0[0m) {
            [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"(%zd%%)"[0m,
                    ([1m[38;2;192;255;224m100[0m [1m[38;2;255;0;255m*[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m) / [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m)
                [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"|"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        }
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m) { [1m[3m[38;2;192;192;192m// End[0m
        [38;2;0;223;175mif[0m ([38;2;255;191;0mprompt_str[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m)
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m" "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m"(End)"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margc[0m) {
            [38;2;255;79;0mbase_name[0m([38;2;255;191;0mtmp_str[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255margv[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurr_argc[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m]);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mprompt_str[0m, [38;2;240;240;144m" Next File: "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        }
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_timer[0m) {
        [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m" secs. %.6f\n"[0m, [38;2;255;191;0melapsed[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mprompt_str[0m, [38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    }
}
[1m[3m[38;2;192;192;192m/** @brief Write buffer contents to files
    @param init data structure
    @param f_strip_ansi strip ANSI escape sequences
    @details
   */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mwrite_view_buffer[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m, [38;2;15;127;255mbool[0m [38;2;255;191;0mf_strip_ansi[0m) {
    [38;2;15;127;255mssize_t[0m [38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255moff_t[0m [38;2;255;191;0mpos[0m;
    [38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mrc[0m;
    [38;2;15;127;255msize_t[0m [38;2;255;191;0ml[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mtmp_line_s[0m[[38;2;112;208;255mPAD_COLS[0m];

    [38;2;0;223;175mif[0m (![38;2;255;191;0mf_strip_ansi[0m) {
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem0[0m, [38;2;240;240;144m"Would you like to strip ansi escape sequences?"[0m,
                   [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"Enter Y for yes or any other key to cancel."[0m,
                   [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mNULL[0m, [38;2;112;208;255mNULL[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m)
            [38;2;255;191;0mf_strip_ansi[0m [1m[38;2;255;0;255m=[0m true;
        [38;2;0;223;175melse[0m
            [38;2;255;191;0mf_strip_ansi[0m [1m[38;2;255;0;255m=[0m false;
    }
    [1m[3m[38;2;192;192;192m/** write the buffer */[0m
    [38;2;255;191;0mpos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_fd[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mopen[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_spec[0m, [38;2;112;208;255mO_CREAT[0m | [38;2;112;208;255mO_TRUNC[0m | [38;2;112;208;255mO_WRONLY[0m, [1m[38;2;192;255;224m0644[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_fd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m-1[0m) {
        [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"%s, line: %d"[0m, [38;2;255;191;0m__FILE__[0m, [38;2;255;191;0m__LINE__[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m);
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"fwrite "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mem1[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrerror_r[0m([38;2;255;191;0merrno[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mNULL[0m);
        [38;2;0;223;175mreturn[0m (false);
    }
    [38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;0;223;175mwhile[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m) {
        [38;2;255;191;0mpos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mpos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mf_strip_ansi[0m)
            [38;2;255;79;0mstrip_ansi[0m([38;2;255;191;0mtmp_line_s[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m);
        [38;2;0;223;175melse[0m
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_line_s[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;191;0ml[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrnlf[0m([38;2;255;191;0mtmp_line_s[0m, [38;2;112;208;255mPAD_COLS[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;191;0mbytes_written[0m [1m[38;2;255;0;255m+=[0m [38;2;255;79;0mwrite[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_fd[0m, [38;2;255;191;0mtmp_line_s[0m, [38;2;255;191;0ml[0m);
    }
    [38;2;255;79;0mclose[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_fd[0m);
    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_spec[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mout_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mbytes_written[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Concatenate File to Standard Output */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mcat_file[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m;
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [38;2;255;79;0mget_next_char[0m();
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;79;0mputchar[0m([38;2;255;191;0mc[0m);
    }
}
[1m[3m[38;2;192;192;192m/** @brief Send File to Print Queue */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mlp[0m([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mPrintFile[0m) {
    [1m[3m[38;2;192;192;192m/// Send File to Print Queue[0m
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mprint_cmd_ptr[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mshell_cmd_spec[0m[[38;2;112;208;255mMAXLEN[0m];
    [38;2;255;191;0mprint_cmd_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mgetenv[0m([38;2;240;240;144m"PRINTCMD"[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mprint_cmd_ptr[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL[0m [1m[38;2;255;0;255m||[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mprint_cmd_ptr[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m)
        [38;2;255;191;0mprint_cmd_ptr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mPRINTCMD[0m;
    [38;2;255;79;0msprintf[0m([38;2;255;191;0mshell_cmd_spec[0m, [38;2;240;240;144m"%s %s"[0m, [38;2;255;191;0mprint_cmd_ptr[0m, [38;2;255;191;0mPrintFile[0m);
    [38;2;255;79;0mcmd_line_prompt[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mshell_cmd_spec[0m);
    [1m[3m[38;2;192;192;192m//  wrefresh(view->win);[0m
    [38;2;255;79;0mprefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpminrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msminrow[0m,
             [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m);
    [38;2;255;79;0mshell[0m([38;2;255;191;0mshell_cmd_spec[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Go to Mark */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_mark[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m) {
    [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\''[0m)
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmark_tbl[0m[([38;2;112;208;255mNMARKS[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m)];
    [38;2;0;223;175melse[0m
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmark_tbl[0m[[38;2;255;191;0mc[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m'a'[0m];
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL_POSITION[0m)
        [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Mark not set"[0m);
    [38;2;0;223;175melse[0m
        [38;2;255;79;0mgo_to_position[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Go to End of File */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_eof[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mget_prev_char[0m();
    [38;2;255;79;0mprev_page[0m([38;2;255;191;0mview[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Go to Specific Line */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mgo_to_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mline_idx[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255moff_t[0m [38;2;255;191;0mline_cnt[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mline_idx[0m <= [1m[38;2;192;255;224m1[0m) {
        [38;2;255;79;0mgo_to_position[0m([38;2;255;191;0mview[0m, [1m[38;2;192;255;224m0[0m);
        [38;2;0;223;175mreturn[0m [38;2;112;208;255mEOF[0m;
    }
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;191;0mline_idx[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;0;223;175mdo[0m {
        [38;2;0;223;175mwhile[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\n'[0m) {
            [38;2;255;79;0mget_next_char[0m();
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m) {
                [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"End of data at %ld lines"[0m, [38;2;255;191;0mline_cnt[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
                [38;2;255;79;0mPerror[0m([38;2;255;191;0mtmp_str[0m);
                [38;2;0;223;175mreturn[0m [38;2;112;208;255mEOF[0m;
            }
        }
        [38;2;255;79;0mget_next_char[0m();
    } [38;2;0;223;175mwhile[0m ([38;2;255;191;0mline_cnt[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mline_idx[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mprev_page[0m([38;2;255;191;0mview[0m);
    [38;2;0;223;175mreturn[0m [1m[38;2;192;255;224m0[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Go to Percent of File */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_percent[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [38;2;255;191;0mPercent[0m) {
    [1m[3m[38;2;192;192;192m/// Go to Percent of File[0m
    [38;2;15;127;255mint[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m0[0m) {
        [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Cannot determine file length"[0m);
        [38;2;0;223;175mreturn[0m;
    }
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mPercent[0m [1m[38;2;255;0;255m*[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m) / [1m[38;2;192;255;224m100[0m;
    [38;2;255;79;0mget_next_char[0m();
    [38;2;0;223;175mwhile[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\n'[0m) {
        [38;2;255;79;0mget_prev_char[0m();
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
            [38;2;0;223;175mbreak[0m;
    }
    [38;2;255;79;0mget_next_char[0m();
    [38;2;255;79;0mnext_page[0m([38;2;255;191;0mview[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Go to Specific File Position */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mgo_to_position[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mgo_to_pos[0m) {
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mgo_to_pos[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mnext_page[0m([38;2;255;191;0mview[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Search for Regular Expression Pattern
    @param view Pointer to View Structure
    @param search_cmd Search Command Character ('/' or '?')
    @param regex_pattern Regular Expression Pattern to Search For
    @returns true if a match is found and displayed, false if the search
   completes without finding a match or if an error occurs
    @note The search performs extended regular expression matching,
   ignoring ANSI sequences and Unicode characters. Matches are
   highlighted on the screen, and the search continues until the page is
   full or the end of the file is reached. If the search wraps around
   the file, a message is displayed indicating that the search is
   complete.
    @note The search state is maintained in the view structure, allowing
   for repeat searches and tracking of the current search position.
    @note this function highlights all matches in the current ncurses
   pad, including those not displayed on the screen, and tracks the
   first and last match columns for prompt display.
    @note ANSI sequences and Unicode characters are stripped before
   matching, so matching corresponds to the visual display */[0m
[38;2;15;127;255mbool[0m [38;2;255;79;0msearch[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mregex_pattern[0m) {
    [38;2;15;127;255mint[0m [38;2;112;208;255mREG_FLAGS[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mregmatch_t[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m1[0m];
    [38;2;15;127;255mregex_t[0m [38;2;255;191;0mcompiled_regex[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mreti[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_offset[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_len[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mmatch_len[0m;
    [38;2;15;127;255mbool[0m [38;2;255;191;0mf_page[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mregex_pattern[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m)
        [38;2;0;223;175mreturn[0m false;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_ignore_case[0m)
        [38;2;112;208;255mREG_FLAGS[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mREG_ICASE[0m | [38;2;112;208;255mREG_EXTENDED[0m;
    [38;2;0;223;175melse[0m
        [38;2;112;208;255mREG_FLAGS[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mREG_EXTENDED[0m;
    [38;2;255;191;0mreti[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mregcomp[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m, [38;2;255;191;0mregex_pattern[0m, [38;2;112;208;255mREG_FLAGS[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mreti[0m) {
        [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Invalid pattern"[0m);
        [38;2;0;223;175mreturn[0m false;
    }
    [1m[3m[38;2;192;192;192m/**  */[0m
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [1m[3m[38;2;192;192;192m/** initialization */[0m
        [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
            }
        } [38;2;0;223;175melse[0m {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m;
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m;
            }
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m) {
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_first_iter[0m [1m[38;2;255;0;255m==[0m true) {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_first_iter[0m [1m[38;2;255;0;255m=[0m false;
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_search_complete[0m [1m[38;2;255;0;255m=[0m false;
                    [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m)
                        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
                    [38;2;0;223;175melse[0m
                        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m;
                } [38;2;0;223;175melse[0m {
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_search_complete[0m [1m[38;2;255;0;255m=[0m true;
                    [38;2;0;223;175mreturn[0m true;
                }
            }
        }
        [1m[3m[38;2;192;192;192m/** get lines to scan */[0m
        [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m)
                [38;2;0;223;175mreturn[0m true;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m;
        } [38;2;0;223;175melse[0m {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
                [38;2;0;223;175mreturn[0m true;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_prev_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m;
        }
        [38;2;255;79;0mfmt_line[0m([38;2;255;191;0mview[0m);
        [38;2;255;191;0mreti[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mregexec[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m,
                       [38;2;255;191;0mcompiled_regex[0m.[38;2;0;191;255mre_nsub[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m, [38;2;255;191;0mpmatch[0m, [38;2;112;208;255mREG_FLAGS[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mreti[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mREG_NOMATCH[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mf_page[0m) {
                [1m[3m[38;2;192;192;192m/** non-matching page filler */[0m
                [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'?'[0m)
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m-=[0m [1m[38;2;192;255;224m2[0m;
                [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
                [38;2;0;223;175mif[0m (([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m) [1m[38;2;255;0;255m||[0m
                    ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'?'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m1[0m)) {
                    [38;2;0;223;175mbreak[0m;
                }
            }
            [38;2;0;223;175mcontinue[0m;
        }
        [38;2;0;223;175mif[0m ([38;2;255;191;0mreti[0m) {
            [38;2;15;127;255mchar[0m [38;2;255;191;0merr_str[0m[[38;2;112;208;255mMAXLEN[0m];
            [38;2;255;79;0mregerror[0m([38;2;255;191;0mreti[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m, [38;2;255;191;0merr_str[0m, [38;2;0;223;175msizeof[0m([38;2;255;191;0merr_str[0m));
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"Regex match failed: "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mtmp_str[0m, [38;2;255;191;0merr_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mPerror[0m([38;2;255;191;0mtmp_str[0m);
            [38;2;255;79;0mregfree[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m);
            [38;2;0;223;175mreturn[0m false;
        }
        [1m[3m[38;2;192;192;192m/** Display matching lines */[0m
        [38;2;0;223;175mif[0m (![38;2;255;191;0mf_page[0m) {
            [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
            [38;2;255;79;0mwclrtobot[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
            [38;2;255;191;0mf_page[0m [1m[38;2;255;0;255m=[0m true;
        }
        [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'?'[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m-=[0m [1m[38;2;192;255;224m2[0m;
        [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
        [1m[3m[38;2;192;192;192m/** All matches on the current line are highlighted,
           including those not displayed on the screen.
           Track first and last match columns for prompt display. */[0m
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfirst_match_x[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m-1[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlast_match_x[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
        [38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrlen[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m);
        [38;2;255;191;0mline_offset[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
        [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_offset[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_so[0m;
            [38;2;255;191;0mmatch_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_eo[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_so[0m;
            [38;2;255;79;0mmvwchgat[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcurx[0m, [38;2;255;191;0mmatch_len[0m,
                     [38;2;112;208;255mWA_REVERSE[0m, [38;2;255;191;0mcp_norm[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfirst_match_x[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m-1[0m)
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfirst_match_x[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_so[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlast_match_x[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_offset[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_eo[0m;
            [38;2;255;191;0mline_offset[0m [1m[38;2;255;0;255m+=[0m [38;2;255;191;0mpmatch[0m[[1m[38;2;192;255;224m0[0m].[38;2;0;191;255mrm_eo[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mline_offset[0m >= [38;2;255;191;0mline_len[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_out_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mline_offset[0m;
            [38;2;255;191;0mreti[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mregexec[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_out_p[0m,
                           [38;2;255;191;0mcompiled_regex[0m.[38;2;0;191;255mre_nsub[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m, [38;2;255;191;0mpmatch[0m, [38;2;112;208;255mREG_FLAGS[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mreti[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mREG_NOMATCH[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mreti[0m) {
                [38;2;15;127;255mchar[0m [38;2;255;191;0mmsgbuf[0m[[1m[38;2;192;255;224m100[0m];
                [38;2;255;79;0mregerror[0m([38;2;255;191;0mreti[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m, [38;2;255;191;0mmsgbuf[0m, [38;2;0;223;175msizeof[0m([38;2;255;191;0mmsgbuf[0m));
                [38;2;255;79;0msprintf[0m([38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"Regex match failed: %s"[0m, [38;2;255;191;0mmsgbuf[0m);
                [38;2;255;79;0mPerror[0m([38;2;255;191;0mtmp_str[0m);
                [38;2;255;79;0mregfree[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m);
                [38;2;0;223;175mreturn[0m false;
            }
            [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'/'[0m) {
                [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m) {
                    [38;2;255;79;0mregfree[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m);
                    [38;2;0;223;175mreturn[0m true;
                }
            } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m1[0m) {
                [38;2;255;79;0mregfree[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m);
                [38;2;0;223;175mreturn[0m true;
            }
        }
    }
    [1m[3m[38;2;192;192;192m/** Update view positions and prepare prompt with match info */[0m
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m;
[38;2;0;223;175m#ifdef[0m [38;2;112;208;255mDEBUG[0m
    [1m[3m[38;2;192;192;192m/** Statistics for debugging */[0m
    [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m,
              [38;2;240;240;144m"%s|%c%s|Pos %zu-%zu|(%zd) %zu %zu"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_name[0m, [1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m,
              [38;2;255;191;0mregex_pattern[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m,
              [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_beg_pos[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msrch_curr_pos[0m);
[38;2;0;223;175m#else[0m
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlast_match_x[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
        [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m,
                  [38;2;240;240;144m"%s|%c%s|Match Cols %d-%d of %d-%d|(%zd%%)"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_name[0m,
                  [1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m, [38;2;255;191;0mregex_pattern[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfirst_match_x[0m,
                  [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlast_match_x[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegx[0m,
                  ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m*[0m [1m[38;2;192;255;224m100[0m / [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m));
    [38;2;0;223;175melse[0m
        [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtmp_prompt_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m,
                  [38;2;240;240;144m"%s|%c%s|Pos %zu-%zu|(%zd%%)"[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_name[0m, [1m[38;2;255;0;255m*[0m[38;2;255;191;0msearch_cmd[0m,
                  [38;2;255;191;0mregex_pattern[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m,
                  ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m*[0m [1m[38;2;192;255;224m100[0m / [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m));
[38;2;0;223;175m#endif[0m
    [38;2;255;79;0mregfree[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcompiled_regex[0m);
    [38;2;0;223;175mreturn[0m true;
}
[1m[3m[38;2;192;192;192m/** @brief Resize Viewing Page
    @param init data structure */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mresize_page[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mscr_lines[0m, [38;2;255;191;0mscr_cols[0m;
    [38;2;15;127;255mbool[0m [38;2;255;191;0mf_resize[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_full_screen[0m) {
        [38;2;255;79;0mgetmaxyx[0m([38;2;255;191;0mstdscr[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m);
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
        [38;2;255;79;0mwresize[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m);
        [38;2;255;79;0mwrefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;255;79;0mwsetscrreg[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m0[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m);
        [38;2;255;191;0mf_resize[0m [1m[38;2;255;0;255m=[0m true;
    } [38;2;0;223;175melse[0m {
        [38;2;255;79;0mgetmaxyx[0m([38;2;255;191;0mstdscr[0m, [38;2;255;191;0mscr_lines[0m, [38;2;255;191;0mscr_cols[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegy[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mscr_lines[0m) {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mscr_lines[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegy[0m) [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m;
            [38;2;255;191;0mf_resize[0m [1m[38;2;255;0;255m=[0m true;
        }
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegx[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mscr_cols[0m) {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m=[0m ([38;2;255;191;0mscr_cols[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegx[0m) [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m;
            [38;2;255;191;0mf_resize[0m [1m[38;2;255;0;255m=[0m true;
        }
        [38;2;0;223;175mif[0m ([38;2;255;191;0mf_resize[0m) {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;79;0mwin_resize[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtitle[0m);
            [38;2;255;79;0mrestore_wins[0m();
            [38;2;255;79;0mwsetscrreg[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;192;255;224m0[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m);
        }
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mf_resize[0m)
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
    [38;2;0;223;175melse[0m
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m false;
}
[1m[3m[38;2;192;192;192m/** @brief Redisplay Current Page */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mredisplay_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_len[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mfmt_line[0m([38;2;255;191;0mview[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_len[0m;
        [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
    }
}
[1m[3m[38;2;192;192;192m/** @brief Advance to Next Page */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mnext_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_len[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m0[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m)
        [38;2;0;223;175mreturn[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;79;0mwclrtobot[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mfmt_line[0m([38;2;255;191;0mview[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_len[0m;
        [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
    }
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m1[0m);
}
[1m[3m[38;2;192;192;192m/** @brief display previous page */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mprev_page[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m0[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
        [38;2;0;223;175mreturn[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;255;79;0mget_pos_prev_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
            [38;2;0;223;175mbreak[0m;
    }
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mnext_page[0m([38;2;255;191;0mview[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Scroll N Lines */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mscroll_down_n_lines[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [38;2;255;191;0mn[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_len[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m0[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m)
        [38;2;0;223;175mreturn[0m;
    [1m[3m[38;2;192;192;192m// Locate New Top of Page[0m
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_pos_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
    }
    [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mi[0m;
    [1m[3m[38;2;192;192;192m// Scroll[0m
    [38;2;255;79;0mwscrl[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mn[0m);
    [1m[3m[38;2;192;192;192m// Fill in Page Bottom[0m
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m-[0m [38;2;255;191;0mn[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mfmt_line[0m([38;2;255;191;0mview[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_len[0m;
        [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
    }
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m1[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Scroll Up N Lines */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mscroll_up_n_lines[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mint[0m [38;2;255;191;0mn[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mline_len[0m;
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m0[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m)
        [38;2;0;223;175mreturn[0m;
    [1m[3m[38;2;192;192;192m// Locate New Top of Page[0m
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_pos_prev_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m);
    }
    [38;2;255;191;0mn[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mi[0m;
    [1m[3m[38;2;192;192;192m// Locate New Bottom of Page[0m
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_pos_prev_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_bot_pos[0m);
    }
    [1m[3m[38;2;192;192;192m// Scroll Up[0m
    [38;2;0;223;175mif[0m ([38;2;255;191;0mn[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m)
        [38;2;255;79;0mwscrl[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [1m[38;2;255;0;255m-[0m[38;2;255;191;0mn[0m);
    [1m[3m[38;2;192;192;192m// Fill in Page Top[0m
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpage_top_pos[0m;
    [38;2;0;223;175mfor[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m; [38;2;255;191;0mi[0m [1m[38;2;255;0;255m<[0m [38;2;255;191;0mn[0m; [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
        [38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mfmt_line[0m([38;2;255;191;0mview[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mline_len[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mline_len[0m;
        [38;2;255;79;0mdisplay_line[0m([38;2;255;191;0mview[0m);
    }
    [38;2;255;79;0mcurs_set[0m([1m[38;2;192;255;224m1[0m);
    [38;2;0;223;175mreturn[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Get Next Line from File
    @param view struct
    @param pos buffer offset
    @returns file position of next line
    @note gets view->line_in_s
 */[0m

[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_next_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mpos[0m) {
    [38;2;15;127;255muchar[0m [38;2;255;191;0mc[0m;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mline_in_p[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpos[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;0;223;175mdo[0m {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m) {
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mbreak[0m;
        }
        [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbuf[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m[1m[38;2;255;0;255m++[0m];
    } [38;2;0;223;175mwhile[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0x0d[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
        [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;255;191;0mline_in_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_beg_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_end_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m [1m[38;2;255;0;255m+[0m [38;2;112;208;255mPAD_COLS[0m;
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m ([38;2;15;127;255muchar[0m)[1m[38;2;192;255;224m'\n'[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;0;223;175mif[0m ([38;2;255;191;0mline_in_p[0m >= [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_end_p[0m)
            [38;2;0;223;175mbreak[0m;
        [1m[38;2;255;0;255m*[0m[38;2;255;191;0mline_in_p[0m[1m[38;2;255;0;255m++[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mc[0m;
        [38;2;0;223;175mdo[0m {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m) {
                [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m true;
                [38;2;0;223;175mbreak[0m;
            }
            [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbuf[0m[[38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m[1m[38;2;255;0;255m++[0m];
        } [38;2;0;223;175mwhile[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0x0d[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    }
    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mline_in_p[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_squeeze[0m) {
        [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
            [38;2;255;79;0mget_next_char[0m();
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m!=[0m ([38;2;15;127;255muchar[0m)[1m[38;2;192;255;224m'\n'[0m)
                [38;2;0;223;175mbreak[0m;
        }
        [38;2;255;79;0mget_prev_char[0m();
    }
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Get Previous Line from File */[0m
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_prev_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mpos[0m) {
    [38;2;255;191;0mpos[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_pos_prev_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mpos[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpos[0m;
    [38;2;255;79;0mget_next_line[0m([38;2;255;191;0mview[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m);
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mpos[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Get Position of Next Line */[0m
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_pos_next_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mpos[0m) {
    [38;2;15;127;255muchar[0m [38;2;255;191;0mc[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mpos[0m [1m[38;2;255;0;255m==[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_size[0m) {
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m true;
        [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    } [38;2;0;223;175melse[0m
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpos[0m;
    [38;2;255;79;0mget_next_char[0m();
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
        [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_squeeze[0m) {
        [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
            [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\n'[0m)
                [38;2;0;223;175mbreak[0m;
            [38;2;255;79;0mget_next_char[0m();
            [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
                [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
        }
        [38;2;255;79;0mget_prev_char[0m();
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m)
            [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    }
    [38;2;0;223;175mwhile[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_eod[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\n'[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;79;0mget_next_char[0m();
    }
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Get Position of Previous Line */[0m
[38;2;15;127;255moff_t[0m [38;2;255;79;0mget_pos_prev_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255moff_t[0m [38;2;255;191;0mpos[0m) {
    [38;2;15;127;255muchar[0m [38;2;255;191;0mc[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mpos[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m [1m[38;2;255;0;255m=[0m true;
        [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    }
    [38;2;255;79;0mget_prev_char[0m();
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
        [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\n'[0m) {
        [38;2;255;79;0mget_prev_char[0m();
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m)
            [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
    }
    [38;2;0;223;175mwhile[0m (![38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_bod[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\n'[0m) {
            [38;2;255;79;0mget_next_char[0m();
            [38;2;0;223;175mbreak[0m;
        }
        [38;2;255;79;0mget_prev_char[0m();
    }
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mfile_pos[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Display Line on Pad */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mdisplay_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0mrc[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m<[0m [1m[38;2;192;255;224m0[0m)
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m)
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mscroll_lines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m;
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m, [1m[38;2;192;255;224m0[0m);
    [38;2;255;79;0mwclrtoeol[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
    [38;2;255;79;0mwadd_wchstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmplx_buf[0m);
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcury[0m[1m[38;2;255;0;255m++[0m;
    [38;2;255;79;0mrefresh[0m();
    [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mprefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpminrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msminrow[0m,
                  [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmincol[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxrow[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255msmaxcol[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mERR[0m)
        [38;2;255;79;0mPerror[0m([38;2;240;240;144m"Error refreshing screen"[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Format Line for Display
    @param view pointer to View structure containing line input and
   output buffers
    @return length of formatted line in characters
    @details This function processes the input line from
   view->line_in_s, handling ANSI escape sequences for text
   attributes and colors, as well as multi-byte characters. It
   converts the input line into a formatted line suitable for
   display in the terminal, storing the result in view->cmplx_buf
   and view->stripped_line_out. The function returns the length of
   the formatted line in characters, which may be used for tracking
   the maximum column width of the displayed content.
 */[0m
[38;2;15;127;255mint[0m [38;2;255;79;0mfmt_line[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mattr_t[0m [38;2;255;191;0mattr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mWA_NORMAL[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mansi_tok[0m[[38;2;112;208;255mMAXLEN[0m];
    [38;2;15;127;255mint[0m [38;2;255;191;0mcpx[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mcp_norm[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mi[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m, [38;2;255;191;0mj[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;0;223;175mconst[0m [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0ms[0m;
    [38;2;15;127;255mwchar_t[0m [38;2;255;191;0mwc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224mL'\0'[0m;
    [38;2;15;127;255mcchar_t[0m [38;2;255;191;0mcc[0m [1m[38;2;255;0;255m=[0m {[1m[38;2;192;255;224m0[0m};
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0min_str[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_in_s[0m;
    [38;2;15;127;255mcchar_t[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcmplx_buf[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmplx_buf[0m;

    [38;2;255;79;0mrtrim[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mline_out_s[0m);
    [1m[3m[38;2;192;192;192m/** Initialize multibyte to wide char conversion */[0m
    [38;2;15;127;255mmbstate_t[0m [38;2;255;191;0mmbstate[0m;
    [38;2;255;79;0mmemset[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mmbstate[0m, [1m[38;2;192;255;224m0[0m, [38;2;0;223;175msizeof[0m([38;2;255;191;0mmbstate[0m));
    [38;2;0;223;175mwhile[0m ([38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m] [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m'\0'[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\033'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'['[0m) {
            [1m[3m[38;2;192;192;192m/** Handle ANSI escape sequences */[0m
            [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrcspn[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m], [38;2;240;240;144m"mK "[0m) [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m;
            [38;2;255;79;0mmemcpy[0m([38;2;255;191;0mansi_tok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m], [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0mansi_tok[0m[[38;2;255;191;0mlen[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
            [38;2;0;223;175mif[0m ([38;2;255;191;0mansi_tok[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m) {
                [38;2;0;223;175mif[0m ([38;2;255;191;0mi[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m [1m[38;2;255;0;255m<[0m [38;2;112;208;255mMAXLEN[0m)
                    [38;2;255;191;0mi[0m [1m[38;2;255;0;255m+=[0m [1m[38;2;192;255;224m2[0m;
                [38;2;0;223;175mcontinue[0m;
            }
            [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m' '[0m) {
                [38;2;255;191;0mi[0m [1m[38;2;255;0;255m+=[0m [1m[38;2;192;255;224m2[0m;
                [38;2;0;223;175mcontinue[0m;
            } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'K'[0m) {
                [38;2;255;191;0mi[0m [1m[38;2;255;0;255m+=[0m [38;2;255;191;0mlen[0m;
                [38;2;0;223;175mcontinue[0m;
            }
            [38;2;255;79;0mparse_ansi_str[0m([38;2;255;191;0mansi_tok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mattr[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mcpx[0m);
            [38;2;255;191;0mi[0m [1m[38;2;255;0;255m+=[0m [38;2;255;191;0mlen[0m;
        } [38;2;0;223;175melse[0m {
            [1m[3m[38;2;192;192;192m/** Wide and complex characters */[0m
            [38;2;0;223;175mif[0m ([38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m] [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\033'[0m) {
                [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m;
                [38;2;0;223;175mcontinue[0m;
            }
            [38;2;255;191;0ms[0m [1m[38;2;255;0;255m=[0m [1m[38;2;255;0;255m&[0m[38;2;255;191;0min_str[0m[[38;2;255;191;0mi[0m];
            [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0ms[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\t'[0m) {
                [38;2;255;191;0mwc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224mL' '[0m;
                [38;2;0;223;175mdo[0m {
                    [38;2;255;79;0msetcchar[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcc[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mwc[0m, [38;2;255;191;0mattr[0m, [38;2;255;191;0mcpx[0m, [38;2;112;208;255mNULL[0m);
                    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m[[38;2;255;191;0mj[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m' '[0m;
                    [38;2;255;191;0mcmplx_buf[0m[[38;2;255;191;0mj[0m[1m[38;2;255;0;255m++[0m] [1m[38;2;255;0;255m=[0m [38;2;255;191;0mcc[0m;
                } [38;2;0;223;175mwhile[0m (([38;2;255;191;0mj[0m [1m[38;2;255;0;255m<[0m [38;2;112;208;255mPAD_COLS[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m) [1m[38;2;255;0;255m&&[0m ([38;2;255;191;0mj[0m % [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtab_stop[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m0[0m));
                [38;2;255;191;0mi[0m[1m[38;2;255;0;255m++[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mmbrtowc[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mwc[0m, [38;2;255;191;0ms[0m, [38;2;112;208;255mMB_CUR_MAX[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mmbstate[0m);
                [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m <= [1m[38;2;192;255;224m0[0m) {
                    [38;2;255;191;0mwc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224mL'?'[0m;
                    [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
                }
                [38;2;0;223;175mif[0m ([38;2;255;79;0msetcchar[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcc[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mwc[0m, [38;2;255;191;0mattr[0m, [38;2;255;191;0mcpx[0m, [38;2;112;208;255mNULL[0m) [1m[38;2;255;0;255m!=[0m [38;2;112;208;255mERR[0m) {
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m [1m[38;2;255;0;255m>[0m [1m[38;2;192;255;224m0[0m [1m[38;2;255;0;255m&&[0m ([38;2;255;191;0mj[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mlen[0m) [1m[38;2;255;0;255m<[0m [38;2;112;208;255mPAD_COLS[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m) {
                        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m[[38;2;255;191;0mj[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0ms[0m;
                        [38;2;255;191;0mcmplx_buf[0m[[38;2;255;191;0mj[0m[1m[38;2;255;0;255m++[0m] [1m[38;2;255;0;255m=[0m [38;2;255;191;0mcc[0m;
                    }
                }
                [38;2;255;191;0mi[0m [1m[38;2;255;0;255m+=[0m [38;2;255;191;0mlen[0m;
            }
        }
    }
    [38;2;0;223;175mif[0m ([38;2;255;191;0mj[0m [1m[38;2;255;0;255m>[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m)
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmaxcol[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mj[0m;
    [38;2;255;191;0mwc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224mL'\0'[0m;
    [38;2;255;79;0msetcchar[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mcc[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mwc[0m, [38;2;112;208;255mWA_NORMAL[0m, [38;2;255;191;0mcpx[0m, [38;2;112;208;255mNULL[0m);
    [38;2;255;191;0mcmplx_buf[0m[[38;2;255;191;0mj[0m] [1m[38;2;255;0;255m=[0m [38;2;255;191;0mcc[0m;
    [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mstripped_line_out[0m[[38;2;255;191;0mj[0m] [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m'\0'[0m;
    [38;2;0;223;175mreturn[0m [38;2;255;191;0mj[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Parse ANSI SGR Escape Sequence
    @param ansi_str is the ANSI escape sequence string to parse
    @param attr is a pointer to an attr_t variable where the parsed
   attributes will be stored
    @param cpx is a pointer to an int variable where the parsed
   color pair index will be stored
    @details This function parses an ANSI SGR (Select Graphic
   Rendition) escape sequence and updates the provided attr_t and
   color pair index based on the attributes specified in the ANSI
   string.

    @code

    This function converts the following SGR specification types to
   the appropriate curses color pair index for use in the terminal
   display.

    RGB:

        foreground \033[38;2;r;g;bm
        background \033[48;2;r;g;bm

        Where r, g, b are the red, green, and blue color components
   (0-255)

    XTERM 256-color:

        foreground \033[38;5;xm
        background \033[48;5;xm

        Where x is the 256-color index (0-255)

        uses xterm256_idx_to_rgb() to convert the 256-color index to
   RGB

    8-color:

        foreground \033[3cm
        background \033[4cm

        Where c is the color code (0 for black, 1 for red, 2 for
   green, 3 for yellow, 4 for blue, 5 for magenta, 6 for cyan, 7 for
   white).

    Attributes:

        \033[am

        Where a is the attribute code (1 for bold, 2 for dim, 3 for
   italic, 4 for underline, 5 for blink, 7 for reverse, 8 for
   invis). The function also supports resetting attributes and
   colors to default using \033[0m.

    @sa xterm256_idx_to_rgb(), rgb_to_curses_clr(),
   extended_pair_content(), get_clr_pair()

    @endcode
*/[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mparse_ansi_str[0m([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mansi_str[0m, [38;2;15;127;255mattr_t[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m, [38;2;15;127;255mint[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcpx[0m) {
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m;
    [38;2;15;127;255mchar[0m [38;2;255;191;0mt0[0m, [38;2;255;191;0mt1[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mlen[0m, [38;2;255;191;0mx_idx[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mfg[0m, [38;2;255;191;0mbg[0m;
    [38;2;15;127;255mint[0m [38;2;255;191;0mfg_clr[0m, [38;2;255;191;0mbg_clr[0m;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mansi_p[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mansi_str[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m;
    [38;2;255;79;0mextended_pair_content[0m([1m[38;2;255;0;255m*[0m[38;2;255;191;0mcpx[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mfg_clr[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0mbg_clr[0m);
    [38;2;255;191;0mfg[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mfg_clr[0m;
    [38;2;255;191;0mbg[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mbg_clr[0m;
    [38;2;15;127;255mRGB[0m [38;2;255;191;0mrgb[0m;
    [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m(([38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m)[38;2;255;191;0mansi_p[0m, [38;2;240;240;144m";m"[0m);
    [38;2;15;127;255mbool[0m [38;2;255;191;0ma_toi_error[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;0;223;175mwhile[0m ([1m[38;2;192;255;224m1[0m) {
        [38;2;0;223;175mif[0m ([38;2;255;191;0mtok[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL[0m [1m[38;2;255;0;255m||[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'\0'[0m)
            [38;2;0;223;175mbreak[0m;
        [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrlen[0m([38;2;255;191;0mtok[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m2[0m) {
            [38;2;255;191;0mt0[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mtok[0m[[1m[38;2;192;255;224m0[0m];
            [38;2;255;191;0mt1[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mtok[0m[[1m[38;2;192;255;224m1[0m];
            [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'3'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'4'[0m) {
                [38;2;0;223;175mif[0m ([38;2;255;191;0mt1[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'8'[0m) {
                    [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mtok[0m [1m[38;2;255;0;255m!=[0m [38;2;112;208;255mNULL[0m) {
                        [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'5'[0m) {
                            [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
                            [38;2;0;223;175mif[0m ([38;2;255;191;0mtok[0m [1m[38;2;255;0;255m!=[0m [38;2;112;208;255mNULL[0m) {
                                [38;2;255;191;0mx_idx[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([38;2;255;191;0mtok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                                [38;2;255;191;0mrgb[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mxterm256_idx_to_rgb[0m([38;2;255;191;0mx_idx[0m);
                            }
                        } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'2'[0m) {
                            [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
                            [38;2;255;191;0mrgb[0m.[38;2;0;191;255mr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([38;2;255;191;0mtok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                            [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
                            [38;2;255;191;0mrgb[0m.[38;2;0;191;255mg[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([38;2;255;191;0mtok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                            [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
                            [38;2;255;191;0mrgb[0m.[38;2;0;191;255mb[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([38;2;255;191;0mtok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                        }
                    }
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'3'[0m)
                        [38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mrgb_to_curses_clr[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mrgb[0m);
                    [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'4'[0m)
                        [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mrgb_to_curses_clr[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mrgb[0m);
                } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt1[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'9'[0m) {
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'3'[0m)
                        [38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_WHITE[0m;
                    [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'4'[0m)
                        [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_BLACK[0m;
                } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt1[0m >= [1m[38;2;192;255;224m'0'[0m [1m[38;2;255;0;255m&&[0m [38;2;255;191;0mt1[0m <= [1m[38;2;192;255;224m'7'[0m) {
                    [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'3'[0m) {
                        [38;2;255;191;0mx_idx[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mt1[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                        [38;2;255;191;0mrgb[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mxterm256_idx_to_rgb[0m([38;2;255;191;0mx_idx[0m);
                        [38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mrgb_to_curses_clr[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mrgb[0m);
                    } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'4'[0m) {
                        [38;2;255;191;0mx_idx[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0ma_toi[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mt1[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m);
                        [38;2;255;191;0mrgb[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mxterm256_idx_to_rgb[0m([38;2;255;191;0mx_idx[0m);
                        [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mrgb_to_curses_clr[0m([1m[38;2;255;0;255m&[0m[38;2;255;191;0mrgb[0m);
                    }
                }
            } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mt0[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'0'[0m) {
                [1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mt1[0m;
                [38;2;255;191;0mlen[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m1[0m;
            }
        }
        [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m1[0m) {
            [38;2;0;223;175mif[0m ([1m[38;2;255;0;255m*[0m[38;2;255;191;0mtok[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'0'[0m) {
                [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mWA_NORMAL[0m;
                [38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_WHITE[0m;
                [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_BLACK[0m;
            } [38;2;0;223;175melse[0m {
                [38;2;0;223;175mswitch[0m ([38;2;255;79;0ma_toi[0m([38;2;255;191;0mtok[0m, [1m[38;2;255;0;255m&[0m[38;2;255;191;0ma_toi_error[0m)) {
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m1[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_BOLD[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m2[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_DIM[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m3[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_ITALIC[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m4[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_UNDERLINE[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m5[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_BLINK[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m7[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_REVERSE[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mcase[0m [1m[38;2;192;255;224m8[0m:
                    [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m |= [38;2;112;208;255mWA_INVIS[0m;
                    [38;2;0;223;175mbreak[0m;
                [38;2;0;223;175mdefault[0m:
                    [38;2;0;223;175mbreak[0m;
                }
            }
        } [38;2;0;223;175melse[0m [38;2;0;223;175mif[0m ([38;2;255;191;0mlen[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m0[0m) {
            [1m[38;2;255;0;255m*[0m[38;2;255;191;0mattr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mWA_NORMAL[0m;
            [38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_WHITE[0m;
            [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mCOLOR_BLACK[0m;
        }
        [38;2;255;191;0mtok[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrtok[0m([38;2;112;208;255mNULL[0m, [38;2;240;240;144m";m"[0m);
    }
    [38;2;0;223;175mif[0m (![38;2;255;191;0ma_toi_error[0m [1m[38;2;255;0;255m&&[0m ([38;2;255;191;0mfg_clr[0m [1m[38;2;255;0;255m!=[0m [38;2;255;191;0mfg[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mbg_clr[0m [1m[38;2;255;0;255m!=[0m [38;2;255;191;0mbg[0m)) {
        [38;2;255;191;0mclr_pair_idx[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mget_clr_pair[0m([38;2;255;191;0mfg_clr[0m, [38;2;255;191;0mbg_clr[0m);
        [1m[38;2;255;0;255m*[0m[38;2;255;191;0mcpx[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mclr_pair_idx[0m;
    }
    [38;2;0;223;175mreturn[0m;
}
[1m[3m[38;2;192;192;192m/** @brief Display Command Line Prompt
    @param view is the current view data structure
    @param s is the prompt string */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mcmd_line_prompt[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0ms[0m) {
    [38;2;15;127;255mchar[0m [38;2;255;191;0mmessage_str[0m[[38;2;112;208;255mPAD_COLS[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m1[0m];
    [38;2;15;127;255mint[0m [38;2;255;191;0ml[0m;
    [38;2;255;191;0ml[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mmessage_str[0m, [38;2;255;191;0ms[0m, [38;2;112;208;255mPAD_COLS[0m);
    [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m);
    [38;2;0;223;175mif[0m ([38;2;255;191;0ml[0m [1m[38;2;255;0;255m!=[0m [1m[38;2;192;255;224m0[0m) {
        [38;2;255;79;0mwclrtoeol[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;255;79;0mwattron[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;112;208;255mWA_REVERSE[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;240;240;144m" "[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mmessage_str[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;240;240;144m" "[0m);
        [38;2;255;79;0mwattroff[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;112;208;255mWA_REVERSE[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;240;240;144m" "[0m);
        [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mpmincol[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0ml[0m [1m[38;2;255;0;255m+[0m [1m[38;2;192;255;224m2[0m);
    }
    [38;2;255;79;0mwrefresh[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
}
[1m[3m[38;2;192;192;192m/** @brief Remove File
    @param view is the current view data structure */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mremove_file[0m([38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview[0m) {
    [38;2;15;127;255mchar[0m [38;2;255;191;0mc[0m;
    [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_at_end_remove[0m) {
        [38;2;255;79;0mwmove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcmd_line[0m, [1m[38;2;192;255;224m0[0m);
        [38;2;255;79;0mwaddstr[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, [38;2;240;240;144m"Remove File (Y or N)->"[0m);
        [38;2;255;79;0mwclrtoeol[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;255;191;0mc[0m [1m[38;2;255;0;255m=[0m ([38;2;15;127;255mchar[0m)[38;2;255;79;0mxwgetch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m);
        [38;2;255;79;0mwaddch[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mwin[0m, ([38;2;15;127;255mchar[0m)[38;2;255;79;0mtoupper[0m([38;2;255;191;0mc[0m));
        [38;2;0;223;175mif[0m ([38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m)
            [38;2;255;79;0mremove[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcur_file_str[0m);
    }
}
[1m[3m[38;2;192;192;192m/** @brief Display View Help File
    @param init is the current initialization data structure.
    @note The current View context is set aside by assigning the
   view structure to "view_save" while the help file is displayed
   using a new, separate view structure.
    @note The help file is specified by the VIEW_HELP_FILE macro can
   be set to a default help file path or overridden by the user
   through an environment variable.
    @note  After the help file is closed, the original view is
   restored and the page is redisplayed.
    @note It may be necessary to reassign view after calling this
   function because the init->view pointer is temporarily set to
   NULL during the help file display, and the original view is
   restored afterward.
    @note The default screen size for help can be set in the code
   below. If set to 0, mview will determine reasonable maximal size
   based on the terminal dimensions.
   @note The help file may contain Unicode characters and ANSI
   escape sequences for formatting, which will be properly handled
   and displayed by mview. */[0m
[38;2;15;127;255mvoid[0m [38;2;255;79;0mview_display_help[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m) {
    [38;2;15;127;255mint[0m [38;2;255;191;0meargc[0m;
    [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0meargv[0m[[38;2;112;208;255mMAXARGS[0m];
    [38;2;15;127;255mView[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mview_save[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m [1m[38;2;255;0;255m=[0m [38;2;112;208;255mNULL[0m;
    [38;2;255;79;0mzero_opt_args[0m([38;2;255;191;0minit[0m);
    [38;2;255;191;0meargv[0m[[1m[38;2;192;255;224m0[0m] [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrdup[0m([38;2;240;240;144m"mview"[0m);
    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mVIEW_HELP_FILE[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;79;0mexpand_tilde[0m([38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;191;0meargv[0m[[1m[38;2;192;255;224m1[0m] [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstrdup[0m([38;2;255;191;0mtmp_str[0m);
    [38;2;255;191;0meargv[0m[[1m[38;2;192;255;224m2[0m] [1m[38;2;255;0;255m=[0m [38;2;112;208;255mNULL[0m;
    [38;2;255;191;0meargc[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m2[0m;
    [38;2;255;79;0mparse_opt_args[0m([38;2;255;191;0minit[0m, [38;2;255;191;0meargc[0m, [38;2;255;191;0meargv[0m);
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m48[0m;
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mcols[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m60[0m;
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegy[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegx[0m [1m[38;2;255;0;255m=[0m [1m[38;2;192;255;224m0[0m;
    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mtitle[0m, [38;2;240;240;144m"View Help"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;79;0mmview[0m([38;2;255;191;0minit[0m, [38;2;255;191;0meargc[0m, [38;2;255;191;0meargv[0m);
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0mview_save[0m;
    [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
}
[1m[3m[38;2;192;192;192m/** @brief use form to enter a file specification
    @param init data structure
    @param file_spec - pointer to file specification
    the file_spec
    @returns true if successful
    @note the user must provide a character array large enough to
   hold file_spec without overflowing
 */[0m
[38;2;15;127;255mbool[0m [38;2;255;79;0menter_file_spec[0m([38;2;15;127;255mInit[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0minit[0m, [38;2;15;127;255mchar[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mfile_spec[0m) {
    [38;2;15;127;255mchar[0m [38;2;255;191;0mtmp_dir[0m[[38;2;112;208;255mMAXLEN[0m];
    [38;2;15;127;255mchar[0m [38;2;255;191;0mtmp_spec[0m[[38;2;112;208;255mMAXLEN[0m];
    [38;2;15;127;255mint[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m false;
    [38;2;15;127;255mFILE[0m [1m[38;2;255;0;255m*[0m[38;2;255;191;0mtmp_fp[0m;
    [38;2;255;191;0mview[0m [1m[38;2;255;0;255m=[0m [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mview[0m;
    [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_dir[0m, [38;2;255;191;0minit[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mmapp_home[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mtmp_dir[0m, [38;2;240;240;144m"/tmp"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;255;79;0mexpand_tilde[0m([38;2;255;191;0mtmp_dir[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
    [38;2;0;223;175mif[0m (![38;2;255;79;0mmk_dir[0m([38;2;255;191;0mtmp_dir[0m)) {
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem0[0m, [38;2;240;240;144m"Unable to create "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mtmp_dir[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;0;223;175mreturn[0m false;
    }
    [38;2;0;223;175mwhile[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m false) {
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mtmp_spec[0m, [38;2;255;191;0mtmp_dir[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mtmp_spec[0m, [38;2;240;240;144m"/tmp_XXXXXX"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_fd[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mmkstemp[0m([38;2;255;191;0mtmp_spec[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_fd[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m-1[0m) {
            [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"%s, line: %d"[0m, [38;2;255;191;0m__FILE__[0m, [38;2;255;191;0m__LINE__[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"mkstemp "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mem1[0m, [38;2;255;191;0mtmp_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrerror_r[0m([38;2;255;191;0merrno[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mNULL[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mreturn[0m (false);
        }
        [1m[3m[38;2;192;192;192m/** call form to get file_name
            write the name to a temporary file */[0m
        [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mearg_str[0m, [38;2;240;240;144m"form -d file_name.f -o "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mearg_str[0m, [38;2;255;191;0mtmp_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;191;0meargc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mstr_to_args[0m([38;2;255;191;0meargv[0m, [38;2;255;191;0mearg_str[0m, [38;2;112;208;255mMAX_ARGS[0m);
        [38;2;255;79;0mzero_opt_args[0m([38;2;255;191;0minit[0m);
        [38;2;255;79;0mparse_opt_args[0m([38;2;255;191;0minit[0m, [38;2;255;191;0meargc[0m, [38;2;255;191;0meargv[0m);
        [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0minit_form[0m([38;2;255;191;0minit[0m, [38;2;255;191;0meargc[0m, [38;2;255;191;0meargv[0m, [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mbegy[0m [1m[38;2;255;0;255m+[0m [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mlines[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m7[0m, [1m[38;2;192;255;224m4[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mP_CANCEL[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'q'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Q'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [38;2;255;79;0mKEY_F[0m([1m[38;2;192;255;224m9[0m)) {
            [38;2;255;79;0mdestroy_form[0m([38;2;255;191;0minit[0m);
            [38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255mf_redisplay_page[0m [1m[38;2;255;0;255m=[0m true;
            [38;2;0;223;175mreturn[0m (false);
        }
        [38;2;255;79;0mclose[0m([38;2;255;191;0mview[0m[1m[38;2;255;0;255m->[0m[38;2;0;191;255min_fd[0m);
        [1m[3m[38;2;192;192;192m/** read file_name from tmp_spec */[0m
        [38;2;255;191;0mtmp_fp[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mfopen[0m([38;2;255;191;0mtmp_spec[0m, [38;2;240;240;144m"r"[0m);
        [38;2;0;223;175mif[0m ([38;2;255;191;0mtmp_fp[0m [1m[38;2;255;0;255m==[0m [38;2;112;208;255mNULL[0m) {
            [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"%s, line: %d"[0m, [38;2;255;191;0m__FILE__[0m, [38;2;255;191;0m__LINE__[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m2[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"fopen "[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrnz__cat[0m([38;2;255;191;0mem1[0m, [38;2;255;191;0mtmp_spec[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mstrerror_r[0m([38;2;255;191;0merrno[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;255;191;0mem2[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mreturn[0m (false);
        }
        [38;2;255;79;0mfgets[0m([38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;255;191;0mtmp_fp[0m);
        [38;2;255;79;0mstrnz[0m([38;2;255;191;0mtmp_str[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
        [38;2;255;79;0mfclose[0m([38;2;255;191;0mtmp_fp[0m);
        [38;2;255;79;0munlink[0m([38;2;255;191;0mtmp_spec[0m);
        [38;2;0;223;175mif[0m (![38;2;255;79;0mverify_spec_arg[0m([38;2;255;191;0mfile_spec[0m, [38;2;255;191;0mtmp_str[0m, [38;2;240;240;144m"~/menuapp/tmp"[0m, [38;2;240;240;144m"."[0m,
                             [38;2;112;208;255mS_WCOK[0m | [38;2;112;208;255mS_QUIET[0m)) {
            [38;2;255;79;0mssnprintf[0m([38;2;255;191;0mem0[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m, [38;2;240;240;144m"Unable to open %s for writing"[0m,
                      [38;2;255;191;0mtmp_str[0m);
            [38;2;255;79;0mstrnz__cpy[0m([38;2;255;191;0mem1[0m, [38;2;240;240;144m"Try again"[0m, [38;2;112;208;255mMAXLEN[0m [1m[38;2;255;0;255m-[0m [1m[38;2;192;255;224m1[0m);
            [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m=[0m [38;2;255;79;0mdisplay_error[0m([38;2;255;191;0mem0[0m, [38;2;255;191;0mem1[0m, [38;2;112;208;255mNULL[0m, [38;2;112;208;255mNULL[0m);
            [38;2;0;223;175mif[0m ([38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'y'[0m [1m[38;2;255;0;255m||[0m [38;2;255;191;0mrc[0m [1m[38;2;255;0;255m==[0m [1m[38;2;192;255;224m'Y'[0m)
                [38;2;0;223;175mcontinue[0m;
        } [38;2;0;223;175melse[0m {
            [38;2;0;223;175mreturn[0m true;
        }
    }
    [38;2;0;223;175mreturn[0m true;
}
