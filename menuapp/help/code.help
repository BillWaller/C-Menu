[38;2;61;123;123;03m//  ansi.c[39;00m
[38;2;61;123;123;03m//  Copyright Bill Waller 2025[39;00m
[38;2;61;123;123;03m//  ansi_to_cmplx[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//  This is the code used by C-Menu View to render ANSI escape sequences[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//  to compile:[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//      cc ansi.c -o ansi -lncursesw[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//  to run:[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//      ./ansi file-name[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//  ansi.c translates text with embedded ANSI escape sequences into complex[39;00m
[38;2;61;123;123;03m//  character strings and displays them with:[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//      add_wchstr(cmplx_char_buf);[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;61;123;123;03m//[39;00m
[38;2;156;101;0m#[39m[38;2;156;101;0mdefine _XOPEN_SOURCE_EXTENDED 1[39m
[38;2;156;101;0m#[39m[38;2;156;101;0mdefine NCURSES_WIDECHAR 1[39m
[38;2;156;101;0m#[39m[38;2;156;101;0minclude[39m[38;2;187;187;187m [39m[38;2;61;123;123;03m<locale.h>[39;00m
[38;2;156;101;0m#[39m[38;2;156;101;0minclude[39m[38;2;187;187;187m [39m[38;2;61;123;123;03m<ncursesw/curses.h>[39;00m
[38;2;156;101;0m#[39m[38;2;156;101;0minclude[39m[38;2;187;187;187m [39m[38;2;61;123;123;03m<stdlib.h>[39;00m
[38;2;156;101;0m#[39m[38;2;156;101;0minclude[39m[38;2;187;187;187m [39m[38;2;61;123;123;03m<string.h>[39;00m
[38;2;156;101;0m#[39m[38;2;156;101;0minclude[39m[38;2;187;187;187m [39m[38;2;61;123;123;03m<wchar.h>[39;00m

[38;2;156;101;0m#[39m[38;2;156;101;0mdefine BUFLEN 1024[39m

[38;2;0;128;0;01mtypedef[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mstruct[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mr;
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mg;
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mb;
}[38;2;187;187;187m [39mRGB;

RGB[38;2;187;187;187m [39mStdColors[[38;2;102;102;102m16[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},[38;2;187;187;187m       [39m{[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},[38;2;187;187;187m   [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},[38;2;187;187;187m   [39m{[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},
[38;2;187;187;187m    [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m},[38;2;187;187;187m     [39m{[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m},[38;2;187;187;187m [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m},[38;2;187;187;187m [39m{[38;2;102;102;102m192[39m,[38;2;187;187;187m [39m[38;2;102;102;102m192[39m,[38;2;187;187;187m [39m[38;2;102;102;102m192[39m},
[38;2;187;187;187m    [39m{[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m,[38;2;187;187;187m [39m[38;2;102;102;102m128[39m},[38;2;187;187;187m [39m{[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},[38;2;187;187;187m   [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},[38;2;187;187;187m   [39m{[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m},
[38;2;187;187;187m    [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m},[38;2;187;187;187m     [39m{[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m},[38;2;187;187;187m [39m{[38;2;102;102;102m0[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m},[38;2;187;187;187m [39m{[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m,[38;2;187;187;187m [39m[38;2;102;102;102m255[39m}};

RGB[38;2;187;187;187m [39m[38;2;0;0;255mxterm256_idx_to_rgb[39m([38;2;176;0;64mint[39m);
[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;0;255mrgb_to_xterm256_idx[39m(RGB);
[38;2;176;0;64mvoid[39m[38;2;187;187;187m [39m[38;2;0;0;255minit_clr_palette[39m();
[38;2;176;0;64mshort[39m[38;2;187;187;187m [39m[38;2;0;0;255mget_clr_pair[39m([38;2;176;0;64mshort[39m,[38;2;187;187;187m [39m[38;2;176;0;64mshort[39m);
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mclr_idx;
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mclr_pair_idx;

[38;2;156;101;0m#[39m[38;2;156;101;0mdefine MAX_COLOR_PAIRS 512[39m
[38;2;0;128;0;01mtypedef[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mstruct[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mfg;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mbg;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mpair_id;
}[38;2;187;187;187m [39mColorPair;

ColorPair[38;2;187;187;187m [39mclr_pairs[MAX_COLOR_PAIRS];
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mpair_cnt[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;

[38;2;176;0;64mvoid[39m[38;2;187;187;187m [39m[38;2;0;0;255mdef_crl_pairs[39m();
[38;2;176;0;64mbool[39m[38;2;187;187;187m [39m[38;2;0;0;255mansi_to_cmplx[39m(cchar_t[38;2;187;187;187m [39m[38;2;102;102;102m*[39m,[38;2;187;187;187m [39m[38;2;0;128;0;01mconst[39;00m[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m);
[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;0;255mparse_ansi_str[39m(WINDOW[38;2;187;187;187m [39m[38;2;102;102;102m*[39m,[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m,[38;2;187;187;187m [39mattr_t[38;2;187;187;187m [39m[38;2;102;102;102m*[39m,[38;2;187;187;187m [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m);

[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m    â”‚ ANSI_TO_CMPLX function prototypes                             â”‚[39;00m
[38;2;61;123;123;03m    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m

[38;2;0;128;0;01menum[39;00m[38;2;187;187;187m [39mcolors_enum[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mCLR_BLACK[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_BLACK,
[38;2;187;187;187m    [39mCLR_RED[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_RED,
[38;2;187;187;187m    [39mCLR_GREEN[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_GREEN,
[38;2;187;187;187m    [39mCLR_YELLOW[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_YELLOW,
[38;2;187;187;187m    [39mCLR_BLUE[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_BLUE,
[38;2;187;187;187m    [39mCLR_MAGENTA[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_MAGENTA,
[38;2;187;187;187m    [39mCLR_CYAN[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_CYAN,
[38;2;187;187;187m    [39mCLR_WHITE[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_WHITE,
[38;2;187;187;187m    [39mCLR_NCOLORS
};

[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;128;0;01mconst[39;00m[38;2;187;187;187m [39mncolors[][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mCLR_BLACK,[38;2;187;187;187m   [39mCLR_RED,[38;2;187;187;187m  [39mCLR_GREEN,[38;2;187;187;187m [39mCLR_YELLOW,[38;2;187;187;187m  [39mCLR_BLUE,
[38;2;187;187;187m    [39mCLR_MAGENTA,[38;2;187;187;187m [39mCLR_CYAN,[38;2;187;187;187m [39mCLR_WHITE,[38;2;187;187;187m [39mCLR_NCOLORS,
};

[38;2;0;128;0;01menum[39;00m[38;2;187;187;187m [39mcolor_pairs_enum[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mCP_DEFAULT[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m64[39m,
[38;2;187;187;187m    [39mCP_NORM,
[38;2;187;187;187m    [39mCP_BOX,
[38;2;187;187;187m    [39mCP_REVERSE,
[38;2;187;187;187m    [39mCP_TITLE,
[38;2;187;187;187m    [39mCP_HIGHLIGHT,
[38;2;187;187;187m    [39mCP_RED,
[38;2;187;187;187m    [39mCP_GREEN,
[38;2;187;187;187m    [39mCP_YELLOW,
[38;2;187;187;187m    [39mCP_BLUE,
[38;2;187;187;187m    [39mCP_MAGENTA,
[38;2;187;187;187m    [39mCP_CYAN,
[38;2;187;187;187m    [39mCP_WHITE,
[38;2;187;187;187m    [39mCP_NCOLOR_PAIRS
};
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mcp_default;
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mcp_norm;
[38;2;176;0;64mint[39m[38;2;187;187;187m [39mcp_reverse;

[38;2;0;128;0;01mtypedef[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mstruct[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mfg;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mbg;
}[38;2;187;187;187m [39mPair;

Pair[38;2;187;187;187m [39mpairs[CP_NCOLOR_PAIRS][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m{CLR_WHITE,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m   [39m[38;2;61;123;123;03m// CP_DEFAULT[39;00m
[38;2;187;187;187m    [39m{CLR_GREEN,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m   [39m[38;2;61;123;123;03m// CP_NORM[39;00m
[38;2;187;187;187m    [39m{CLR_CYAN,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m    [39m[38;2;61;123;123;03m// CP_BOX[39;00m
[38;2;187;187;187m    [39m{CLR_BLACK,[38;2;187;187;187m [39mCLR_YELLOW},[38;2;187;187;187m  [39m[38;2;61;123;123;03m// CP_REVERSE[39;00m
[38;2;187;187;187m    [39m{CLR_YELLOW,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m  [39m[38;2;61;123;123;03m// CP_TITLE[39;00m
[38;2;187;187;187m    [39m{CLR_BLACK,[38;2;187;187;187m [39mCLR_CYAN},[38;2;187;187;187m    [39m[38;2;61;123;123;03m// CP_HIGHLIGHT[39;00m
[38;2;187;187;187m    [39m{CLR_RED,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m     [39m[38;2;61;123;123;03m// CP_RED[39;00m
[38;2;187;187;187m    [39m{CLR_GREEN,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m   [39m[38;2;61;123;123;03m// CP_GREEN[39;00m
[38;2;187;187;187m    [39m{CLR_YELLOW,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m  [39m[38;2;61;123;123;03m// CP_YELLOW[39;00m
[38;2;187;187;187m    [39m{CLR_BLUE,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m    [39m[38;2;61;123;123;03m// CP_BLUE[39;00m
[38;2;187;187;187m    [39m{CLR_MAGENTA,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m [39m[38;2;61;123;123;03m// CP_MAGENTA[39;00m
[38;2;187;187;187m    [39m{CLR_CYAN,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m    [39m[38;2;61;123;123;03m// CP_CYAN[39;00m
[38;2;187;187;187m    [39m{CLR_WHITE,[38;2;187;187;187m [39mCLR_BLACK},[38;2;187;187;187m   [39m[38;2;61;123;123;03m// CP_WHITE[39;00m
};

[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;0;255mmain[39m([38;2;176;0;64mint[39m[38;2;187;187;187m [39margc,[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;102;102;102m*[39margv)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mcchar_t[38;2;187;187;187m [39mcmplx_char_buf[[38;2;102;102;102m1024[39m];
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mj[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
[38;2;187;187;187m    [39m[38;2;176;0;64mFILE[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mfile_ptr;
[38;2;187;187;187m    [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39mline_buffer[BUFLEN];
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mr,[38;2;187;187;187m [39mg,[38;2;187;187;187m [39mb;

[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(argc[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m2[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mprintf([38;2;186;33;33m"[39m[38;2;170;93;31;01m\n[39;00m[38;2;170;93;31;01m\n[39;00m[38;2;186;33;33musage: ansi file-name[39m[38;2;170;93;31;01m\n[39;00m[38;2;170;93;31;01m\n[39;00m[38;2;186;33;33m"[39m);
[38;2;187;187;187m        [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39msetlocale(LC_ALL,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m    [39minitscr();
[38;2;187;187;187m    [39mclear();
[38;2;187;187;187m    [39mnonl();
[38;2;187;187;187m    [39mnoecho();
[38;2;187;187;187m    [39mcbreak();
[38;2;187;187;187m    [39mkeypad(stdscr,[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m);
[38;2;187;187;187m    [39mclearok(stdscr,[38;2;187;187;187m [39m[38;2;0;128;0mfalse[39m);
[38;2;187;187;187m    [39mscrollok(stdscr,[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m);
[38;2;187;187;187m    [39msetscrreg([38;2;102;102;102m0[39m,[38;2;187;187;187m [39mLINES[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m);
[38;2;187;187;187m    [39mimmedok(stdscr,[38;2;187;187;187m [39mTRUE);
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(has_colors()[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mstart_color()[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mOK)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mclr_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCLR_NCOLORS[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;
[38;2;187;187;187m        [39mclr_pair_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCP_NCOLOR_PAIRS[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;
[38;2;187;187;187m        [39mdef_crl_pairs();
[38;2;187;187;187m        [39mcp_default[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mget_clr_pair(CLR_WHITE,[38;2;187;187;187m [39mCLR_BLACK);
[38;2;187;187;187m        [39mcp_norm[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mget_clr_pair(CLR_GREEN,[38;2;187;187;187m [39mCLR_BLACK);
[38;2;187;187;187m        [39mcp_reverse[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mget_clr_pair(CLR_BLACK,[38;2;187;187;187m [39mCLR_YELLOW);
[38;2;187;187;187m        [39mwcolor_set(stdscr,[38;2;187;187;187m [39mCP_NORM,[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m);
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39mfile_ptr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mfopen(argv[[38;2;102;102;102m1[39m],[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33mr[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(file_ptr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mperror([38;2;186;33;33m"[39m[38;2;186;33;33mError opening file[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m        [39mexit(EXIT_FAILURE);
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mwhile[39;00m[38;2;187;187;187m [39m(fgets(line_buffer,[38;2;187;187;187m [39mBUFLEN,[38;2;187;187;187m [39mfile_ptr)[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mansi_to_cmplx(cmplx_char_buf,[38;2;187;187;187m [39mline_buffer);
[38;2;187;187;187m        [39mwmove(stdscr,[38;2;187;187;187m [39m[38;2;102;102;102m49[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m);
[38;2;187;187;187m        [39madd_wchstr(cmplx_char_buf);
[38;2;187;187;187m        [39mscroll(stdscr);
[38;2;187;187;187m        [39mrefresh();
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39mgetch();
[38;2;187;187;187m    [39mendwin();
[38;2;187;187;187m    [39mfclose(file_ptr);
}

[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m    â”‚ ANSI_TO_CMPLX                                                 â”‚[39;00m
[38;2;61;123;123;03m    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;176;0;64mbool[39m[38;2;187;187;187m [39m[38;2;0;0;255mansi_to_cmplx[39m(cchar_t[38;2;187;187;187m [39m[38;2;102;102;102m*[39mcmplx_buf,[38;2;187;187;187m [39m[38;2;0;128;0;01mconst[39;00m[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39min_str)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mattr_t[38;2;187;187;187m [39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_NORMAL;
[38;2;187;187;187m    [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39mansi_tok[[38;2;102;102;102m64[39m];
[38;2;187;187;187m    [39m[38;2;0;128;0;01mconst[39;00m[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39ms;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mconst[39;00m[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mstart_s;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mcp[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCP_DEFAULT;
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39mj[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m,[38;2;187;187;187m [39mk[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
[38;2;187;187;187m    [39m[38;2;176;0;64msize_t[39m[38;2;187;187;187m [39mlen;
[38;2;187;187;187m    [39m[38;2;176;0;64mwchar_t[39m[38;2;187;187;187m [39mwc;
[38;2;187;187;187m    [39m[38;2;176;0;64mwchar_t[39m[38;2;187;187;187m [39mnull_wch[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33mL[39m[38;2;186;33;33m'[39m[38;2;186;33;33m\0[39m[38;2;186;33;33m'[39m;
[38;2;187;187;187m    [39mcchar_t[38;2;187;187;187m [39mcc;
[38;2;187;187;187m    [39m[38;2;61;123;123;03m// mbstate_t state;[39;00m
[38;2;187;187;187m    [39mmbtowc([38;2;0;128;0mNULL[39m,[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m,[38;2;187;187;187m [39m[38;2;102;102;102m0[39m);
[38;2;187;187;187m    [39m[38;2;0;128;0;01mwhile[39;00m[38;2;187;187;187m [39m(in_str[i][38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m\0[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(in_str[i][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m\033[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39min_str[i[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m[[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mstart_seq[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)[38;2;102;102;102m&[39min_str[i];
[38;2;187;187;187m            [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mend_seq[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrchr(start_seq,[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33mm[39m[38;2;186;33;33m'[39m);
[38;2;187;187;187m            [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(end_seq)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39mstrncpy(ansi_tok,[38;2;187;187;187m [39mstart_seq,[38;2;187;187;187m [39mend_seq[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;187;187;187m [39mstart_seq[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m);
[38;2;187;187;187m                [39mansi_tok[end_seq[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;187;187;187m [39mstart_seq[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m\0[39m[38;2;186;33;33m'[39m;
[38;2;187;187;187m                [39mparse_ansi_str(stdscr,[38;2;187;187;187m [39mansi_tok,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mattr,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mcp);

[38;2;187;187;187m                [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(end_seq[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;187;187;187m [39min_str)[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39mi[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m;
[38;2;187;187;187m            [39m}
[38;2;187;187;187m        [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39ms[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39min_str[i];
[38;2;187;187;187m            [39mlen[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mmbtowc([38;2;102;102;102m&[39mwc,[38;2;187;187;187m [39ms,[38;2;187;187;187m [39mMB_CUR_MAX);
[38;2;187;187;187m            [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m>[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(setcchar([38;2;102;102;102m&[39mcc,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mwc,[38;2;187;187;187m [39mattr,[38;2;187;187;187m [39mcp,[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mERR)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39mcmplx_buf[j[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mcc;
[38;2;187;187;187m                [39m}
[38;2;187;187;187m                [39ms[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mlen;
[38;2;187;187;187m                [39mi[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mlen;
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m-1[39m)[38;2;187;187;187m [39m{[38;2;187;187;187m [39m[38;2;61;123;123;03m// don't know what to do with these yet[39;00m
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mbreak[39;00m;
[38;2;187;187;187m                [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m-2[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                        [39m[38;2;0;128;0;01mbreak[39;00m;
[38;2;187;187;187m                    [39m}
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}
[38;2;187;187;187m        [39m}
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39mwc[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33mL[39m[38;2;186;33;33m'[39m[38;2;186;33;33m\0[39m[38;2;186;33;33m'[39m;
[38;2;187;187;187m    [39msetcchar([38;2;102;102;102m&[39mcc,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mwc,[38;2;187;187;187m [39mA_NORMAL,[38;2;187;187;187m [39mCP_DEFAULT,[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m);
[38;2;187;187;187m    [39mcmplx_buf[j][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mcc;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
}
[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m    â”‚ PARSE_ANSI_STR                                                â”‚[39;00m
[38;2;61;123;123;03m    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;0;255mparse_ansi_str[39m(WINDOW[38;2;187;187;187m [39m[38;2;102;102;102m*[39mwin,[38;2;187;187;187m [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mansi_str,[38;2;187;187;187m [39mattr_t[38;2;187;187;187m [39m[38;2;102;102;102m*[39mattr,[38;2;187;187;187m [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mcp)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mtok;
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mi,[38;2;187;187;187m [39mlen,[38;2;187;187;187m [39mx_idx;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mr,[38;2;187;187;187m [39mg,[38;2;187;187;187m [39mb;
[38;2;187;187;187m    [39m[38;2;176;0;64mbool[39m[38;2;187;187;187m [39mf_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mfalse[39m,[38;2;187;187;187m [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mfalse[39m;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mcolor_pair;
[38;2;187;187;187m    [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mfg,[38;2;187;187;187m [39mbg;
[38;2;187;187;187m    [39m[38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mansi_str[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m2[39m;
[38;2;187;187;187m    [39mpair_content([38;2;102;102;102m*[39mcp,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mfg,[38;2;187;187;187m [39m[38;2;102;102;102m&[39mbg);
[38;2;187;187;187m    [39mRGB[38;2;187;187;187m [39mrgb;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mfor[39;00m[38;2;187;187;187m [39m(i[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39m[38;2;102;102;102m4[39m;[38;2;187;187;187m [39mi[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)
[38;2;187;187;187m            [39m[38;2;0;128;0;01mbreak[39;00m;
[38;2;187;187;187m        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m        [39mlen[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrlen(tok);
[38;2;187;187;187m        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m2[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m8[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                    â”‚ 38 - FOREGROUND                               â”‚[39;00m
[38;2;61;123;123;03m                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mstrcmp(tok,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m5[39m[38;2;186;33;33m"[39m)[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                        â”‚ 5 - 256 CLR PALETTE                       â”‚[39;00m
[38;2;61;123;123;03m                        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                    [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                    [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                        [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                            â”‚ XTERM_IDX_TO_RGB                      â”‚[39;00m
[38;2;61;123;123;03m                            â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                        [39mx_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(fg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx)[38;2;187;187;187m [39m{
[38;2;187;187;187m                            [39mfg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx;
[38;2;187;187;187m                            [39mf_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                        [39m}
[38;2;187;187;187m                    [39m}
[38;2;187;187;187m                [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mstrcmp(tok,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m2[39m[38;2;186;33;33m"[39m)[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                        [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                            â”‚ 2 - RGB                                   â”‚[39;00m
[38;2;61;123;123;03m                            â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mx_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb_to_xterm256_idx(rgb);
[38;2;187;187;187m                        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(fg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx)[38;2;187;187;187m [39m{
[38;2;187;187;187m                            [39mfg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx;
[38;2;187;187;187m                            [39mf_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                        [39m}
[38;2;187;187;187m                    [39m}
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m4[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m8[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                    â”‚ 48 - BACKGROUND                               â”‚[39;00m
[38;2;61;123;123;03m                    â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mstrcmp(tok,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m5[39m[38;2;186;33;33m"[39m)[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                        â”‚ 5 - 256 CLR PALETTE                       â”‚[39;00m
[38;2;61;123;123;03m                        â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                    [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                    [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                        [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                            â”‚ XTERM_IDX_TO_RGB                      â”‚[39;00m
[38;2;61;123;123;03m                            â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                        [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mx_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(bg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx)[38;2;187;187;187m [39m{
[38;2;187;187;187m                            [39mbg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx;
[38;2;187;187;187m                            [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                        [39m}
[38;2;187;187;187m                    [39m}
[38;2;187;187;187m                [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mstrcmp(tok,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m2[39m[38;2;186;33;33m"[39m)[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                        [39m[38;2;61;123;123;03m/*  â•­â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•®[39;00m
[38;2;61;123;123;03m                            â”‚ 2 - RGB COLOR                             â”‚[39;00m
[38;2;61;123;123;03m                            â•°â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â•¯*/[39;00m
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mtok[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mstrtok(([38;2;176;0;64mchar[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m)ansi_p,[38;2;187;187;187m [39m[38;2;186;33;33m"[39m[38;2;186;33;33m;m[39m[38;2;186;33;33m"[39m);
[38;2;187;187;187m                        [39mansi_p[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mNULL[39m;
[38;2;187;187;187m                        [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi(tok);
[38;2;187;187;187m                        [39mx_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb_to_xterm256_idx(rgb);
[38;2;187;187;187m                        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(bg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx)[38;2;187;187;187m [39m{
[38;2;187;187;187m                            [39mbg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mx_idx;
[38;2;187;187;187m                            [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                        [39m}
[38;2;187;187;187m                    [39m}
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m9[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(fg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_WHITE)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39mfg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_WHITE;
[38;2;187;187;187m                    [39mf_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m4[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m9[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(bg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_BLACK)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39mbg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mCOLOR_BLACK;
[38;2;187;187;187m                    [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m((tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m|[39m[38;2;102;102;102m|[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m4[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m>[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m
[38;2;187;187;187m                       [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m7[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                    [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi([38;2;102;102;102m&[39mtok[[38;2;102;102;102m1[39m]);
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(fg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mi)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39mfg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mi;
[38;2;187;187;187m                    [39mf_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m4[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                    [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39matoi([38;2;102;102;102m&[39mtok[[38;2;102;102;102m1[39m]);
[38;2;187;187;187m                [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(bg[38;2;187;187;187m [39m[38;2;102;102;102m![39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mi)[38;2;187;187;187m [39m{
[38;2;187;187;187m                    [39mbg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mi;
[38;2;187;187;187m                    [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m;
[38;2;187;187;187m                [39m}
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m1[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_NORMAL;
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m1[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_BOLD;
[38;2;187;187;187m            [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m2[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_REVERSE;
[38;2;187;187;187m            [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mtok[[38;2;102;102;102m1[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_ITALIC;
[38;2;187;187;187m        [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m0[39m[38;2;186;33;33m'[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_NORMAL;
[38;2;187;187;187m            [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m1[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_BOLD;
[38;2;187;187;187m            [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m2[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_REVERSE;
[38;2;187;187;187m            [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(tok[[38;2;102;102;102m0[39m][38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;186;33;33m'[39m[38;2;186;33;33m3[39m[38;2;186;33;33m'[39m)
[38;2;187;187;187m                [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_ITALIC;
[38;2;187;187;187m        [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(len[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;102;102;102m*[39mattr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mA_NORMAL;
[38;2;187;187;187m        [39m}
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(f_fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m[38;2;187;187;187m [39m[38;2;102;102;102m|[39m[38;2;102;102;102m|[39m[38;2;187;187;187m [39mf_bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;0;128;0mtrue[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mclr_pair_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mget_clr_pair(fg,[38;2;187;187;187m [39mbg);
[38;2;187;187;187m        [39m[38;2;102;102;102m*[39mcp[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mclr_pair_idx[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m;
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;
}

[38;2;61;123;123;03m// RGB -> xterm 256 color[39;00m
[38;2;176;0;64mint[39m[38;2;187;187;187m [39m[38;2;0;0;255mrgb_to_xterm256_idx[39m(RGB[38;2;187;187;187m [39mrgb)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(rgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.b)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m([38;2;102;102;102m0[39m[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m23[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39m[38;2;102;102;102m232[39m[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m(rgb.r[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m11[39m);
[38;2;187;187;187m        [39m}
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m    [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m    [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39m[38;2;102;102;102m16[39m[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m([38;2;102;102;102m36[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39mrgb.r)[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m([38;2;102;102;102m6[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39mrgb.g)[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39mrgb.b;
}

[38;2;61;123;123;03m// xterm 256 color -> RGB[39;00m
RGB[38;2;187;187;187m [39m[38;2;0;0;255mxterm256_idx_to_rgb[39m([38;2;176;0;64mint[39m[38;2;187;187;187m [39midx)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39mRGB[38;2;187;187;187m [39mrgb;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39m[38;2;102;102;102m16[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mStdColors[idx].r;
[38;2;187;187;187m        [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mStdColors[idx].g;
[38;2;187;187;187m        [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mStdColors[idx].b;
[38;2;187;187;187m        [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mrgb;
[38;2;187;187;187m    [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m>[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m16[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39midx[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m231[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39midx[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m16[39m;
[38;2;187;187;187m        [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m36[39m)[38;2;187;187;187m [39m[38;2;102;102;102m%[39m[38;2;187;187;187m [39m[38;2;102;102;102m6[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m        [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m6[39m)[38;2;187;187;187m [39m[38;2;102;102;102m%[39m[38;2;187;187;187m [39m[38;2;102;102;102m6[39m[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m        [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m%[39m[38;2;187;187;187m [39m[38;2;102;102;102m6[39m)[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m51[39m;
[38;2;187;187;187m        [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mrgb;
[38;2;187;187;187m    [39m}[38;2;187;187;187m [39m[38;2;0;128;0;01melse[39;00m[38;2;187;187;187m [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m>[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m232[39m[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39midx[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m255[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mgray[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(idx[38;2;187;187;187m [39m[38;2;102;102;102m-[39m[38;2;187;187;187m [39m[38;2;102;102;102m232[39m)[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m11[39m;
[38;2;187;187;187m        [39mrgb.r[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.g[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mrgb.b[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mgray;
[38;2;187;187;187m        [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mrgb;
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mrgb;
}

[38;2;176;0;64mvoid[39m[38;2;187;187;187m [39m[38;2;0;0;255minit_clr_palette[39m()[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mi,[38;2;187;187;187m [39midx,[38;2;187;187;187m [39mc;
[38;2;187;187;187m    [39m[38;2;176;0;64muint8_t[39m[38;2;187;187;187m [39mrr,[38;2;187;187;187m [39mgg,[38;2;187;187;187m [39mbb;
[38;2;187;187;187m    [39mRGB[38;2;187;187;187m [39mrgb;

[38;2;187;187;187m    [39m[38;2;0;128;0;01mfor[39;00m[38;2;187;187;187m [39m(i[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39m[38;2;102;102;102m256[39m;[38;2;187;187;187m [39mi[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39mrgb[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mxterm256_idx_to_rgb(i);
[38;2;187;187;187m        [39mrr[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(rgb.r[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m1000[39m)[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m255[39m;
[38;2;187;187;187m        [39mgg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(rgb.g[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m1000[39m)[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m255[39m;
[38;2;187;187;187m        [39mbb[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m(rgb.b[38;2;187;187;187m [39m[38;2;102;102;102m*[39m[38;2;187;187;187m [39m[38;2;102;102;102m1000[39m)[38;2;187;187;187m [39m[38;2;102;102;102m/[39m[38;2;187;187;187m [39m[38;2;102;102;102m255[39m;
[38;2;187;187;187m        [39minit_color(i[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m,[38;2;187;187;187m [39mrr,[38;2;187;187;187m [39mgg,[38;2;187;187;187m [39mbb);
[38;2;187;187;187m    [39m}
}

[38;2;176;0;64mvoid[39m[38;2;187;187;187m [39m[38;2;0;0;255mdef_crl_pairs[39m()[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;176;0;64mint[39m[38;2;187;187;187m [39mi,[38;2;187;187;187m [39mj,[38;2;187;187;187m [39mid;
[38;2;187;187;187m    [39m[38;2;0;128;0;01mfor[39;00m[38;2;187;187;187m [39m(i[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39m[38;2;102;102;102m8[39m;[38;2;187;187;187m [39mi[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;0;128;0;01mfor[39;00m[38;2;187;187;187m [39m(j[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;[38;2;187;187;187m [39mj[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39m[38;2;102;102;102m8[39m;[38;2;187;187;187m [39mj[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39mid[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mget_clr_pair(i,[38;2;187;187;187m [39mj);
[38;2;187;187;187m            [39mclr_pairs[pair_cnt].fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mi;
[38;2;187;187;187m            [39mclr_pairs[pair_cnt].bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mj;
[38;2;187;187;187m            [39mclr_pairs[pair_cnt].pair_id[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mid;
[38;2;187;187;187m            [39mpair_cnt[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m;
[38;2;187;187;187m        [39m}
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39mclr_pair_idx[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mid[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;
}

[38;2;176;0;64mshort[39m[38;2;187;187;187m [39m[38;2;0;0;255mget_clr_pair[39m([38;2;176;0;64mshort[39m[38;2;187;187;187m [39mfg,[38;2;187;187;187m [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mbg)[38;2;187;187;187m [39m{
[38;2;187;187;187m    [39m[38;2;0;128;0;01mfor[39;00m[38;2;187;187;187m [39m([38;2;176;0;64mint[39m[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39m[38;2;102;102;102m0[39m;[38;2;187;187;187m [39mi[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39mpair_cnt;[38;2;187;187;187m [39mi[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(clr_pairs[i].fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mfg[38;2;187;187;187m [39m[38;2;102;102;102m&[39m[38;2;102;102;102m&[39m[38;2;187;187;187m [39mclr_pairs[i].bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mbg)[38;2;187;187;187m [39m{
[38;2;187;187;187m            [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mclr_pairs[i].pair_id;
[38;2;187;187;187m        [39m}
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mif[39;00m[38;2;187;187;187m [39m(pair_cnt[38;2;187;187;187m [39m[38;2;102;102;102m<[39m[38;2;187;187;187m [39mMAX_COLOR_PAIRS)[38;2;187;187;187m [39m{
[38;2;187;187;187m        [39m[38;2;176;0;64mshort[39m[38;2;187;187;187m [39mid[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mpair_cnt[38;2;187;187;187m [39m[38;2;102;102;102m+[39m[38;2;187;187;187m [39m[38;2;102;102;102m1[39m;
[38;2;187;187;187m        [39minit_pair(id,[38;2;187;187;187m [39mfg,[38;2;187;187;187m [39mbg);
[38;2;187;187;187m        [39mclr_pairs[pair_cnt].fg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mfg;
[38;2;187;187;187m        [39mclr_pairs[pair_cnt].bg[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mbg;
[38;2;187;187;187m        [39mclr_pairs[pair_cnt].pair_id[38;2;187;187;187m [39m[38;2;102;102;102m=[39m[38;2;187;187;187m [39mid;
[38;2;187;187;187m        [39mpair_cnt[38;2;102;102;102m+[39m[38;2;102;102;102m+[39m;
[38;2;187;187;187m        [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mid;
[38;2;187;187;187m    [39m}
[38;2;187;187;187m    [39m[38;2;0;128;0;01mreturn[39;00m[38;2;187;187;187m [39mERR;
}
